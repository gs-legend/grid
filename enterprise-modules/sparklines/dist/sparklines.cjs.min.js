/**
 * @ag-grid-enterprise/sparklines - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v27.0.1
 * @link http://www.ag-grid.com/
' * @license Commercial
 */

/**
 * @ag-grid-enterprise/sparklines - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v27.0.1
 * @link http://www.ag-grid.com/
' * @license Commercial
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("@ag-grid-community/core"),e=require("@ag-grid-enterprise/core"),n=function(){function t(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r}return t.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.dilate=function(t){this.x-=t,this.y-=t,this.width+=2*t,this.height+=2*t},t.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},t.prototype.render=function(e,n){void 0===n&&(n=t.noParams),e.save(),n.resetTransform&&e.setTransform(1,0,0,1,0,0),e.strokeStyle=n.strokeStyle||"cyan",e.lineWidth=n.lineWidth||1,e.strokeRect(this.x,this.y,this.width,this.height),n.label&&(e.fillStyle=n.fillStyle||"black",e.textBaseline="bottom",e.fillText(n.label,this.x,this.y)),e.restore()},t.noParams={},t}(),r=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=function(){function t(t){void 0===t&&(t=[1,0,0,1,0,0]),this.elements=t}return t.prototype.setElements=function(t){var e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},t.prototype.setIdentityElements=function(){var t=this.elements;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},Object.defineProperty(t.prototype,"identity",{get:function(){var t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"a",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"c",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"d",{get:function(){return this.elements[3]},set:function(t){this.elements[3]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"e",{get:function(){return this.elements[4]},set:function(t){this.elements[4]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"f",{get:function(){return this.elements[5]},set:function(t){this.elements[5]=t},enumerable:!0,configurable:!0}),t.prototype.AxB=function(t,e,n){var i=r(t,6),o=i[0],a=i[1],s=i[2],u=i[3],h=i[4],l=i[5],c=r(e,6),f=c[0],p=c[1],d=c[2],y=c[3],g=c[4],m=c[5];(n=n||t)[0]=o*f+s*p,n[1]=a*f+u*p,n[2]=o*d+s*y,n[3]=a*d+u*y,n[4]=o*g+s*m+h,n[5]=a*g+u*m+l},t.prototype.multiplySelf=function(t){return this.AxB(this.elements,t.elements),this},t.prototype.multiply=function(e){var n=new Array(6);return this.AxB(this.elements,e.elements,n),new t(n)},t.prototype.preMultiplySelf=function(t){return this.AxB(t.elements,this.elements,this.elements),this},t.prototype.inverse=function(){var e=r(this.elements,6),n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],h=1/(n*a-i*o);return new t([a*=h,-(i*=h),-(o*=h),n*=h,o*u-a*s,i*s-n*u])},t.prototype.inverseTo=function(t){var e=r(this.elements,6),n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],h=1/(n*a-i*o);return n*=h,i*=h,o*=h,a*=h,t.setElements([a,-i,-o,n,o*u-a*s,i*s-n*u]),this},t.prototype.invertSelf=function(){var t=this.elements,e=r(t,6),n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],h=1/(n*a-i*o);return n*=h,i*=h,o*=h,a*=h,t[0]=a,t[1]=-i,t[2]=-o,t[3]=n,t[4]=o*u-a*s,t[5]=i*s-n*u,this},t.prototype.clone=function(){return new t(this.elements.slice())},t.prototype.transformPoint=function(t,e){var n=this.elements;return{x:t*n[0]+e*n[2]+n[4],y:t*n[1]+e*n[3]+n[5]}},t.prototype.transformBBox=function(t,e,r){void 0===e&&(e=0);var i,o,a=this.elements,s=a[0],u=a[1],h=a[2],l=a[3],c=.5*t.width,f=.5*t.height,p=t.x+c,d=t.y+f;if(e){c-=e,f-=e;var y=Math.sqrt(s*s+h*h),g=Math.sqrt(u*u+l*l);i=Math.abs(c*s)+Math.abs(f*h)+Math.abs(y*e),o=Math.abs(c*u)+Math.abs(f*l)+Math.abs(g*e)}else i=Math.abs(c*s)+Math.abs(f*h),o=Math.abs(c*u)+Math.abs(f*l);return r||(r=new n(0,0,0,0)),r.x=p*s+d*h+a[4]-i,r.y=p*u+d*l+a[5]-o,r.width=i+i,r.height=o+o,r},t.prototype.toContext=function(t){if(!this.identity){var e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},t.flyweight=function(e){return e?e instanceof t?t.matrix.setElements(e.elements):t.matrix.setElements(e):t.matrix.setIdentityElements(),t.matrix},t.matrix=new t,t}();function o(t){var e=t.constructor,n=e.className;if(!n)throw new Error("The "+e+" is missing the 'className' property.");return n+"-"+(e.id=(e.id||0)+1)}var a,s=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};!function(t){t[t.All=0]="All",t[t.None=1]="None"}(a||(a={}));var u,h=function(){function t(){this.id=o(this),this.tag=NaN,this.isContainerNode=!1,this._children=[],this.childSet={},this.matrix=new i,this.inverseMatrix=new i,this._dirtyTransform=!1,this._scalingX=1,this._scalingY=1,this._scalingCenterX=null,this._scalingCenterY=null,this._rotationCenterX=null,this._rotationCenterY=null,this._rotation=0,this._translationX=0,this._translationY=0,this._dirty=!0,this._visible=!0,this.pointerEvents=a.All}return t.isNode=function(t){return!!t&&void 0!==t.matrix},t.prototype._setScene=function(t){this._scene=t;for(var e=this.children,n=e.length,r=0;r<n;r++)e[r]._setScene(t)},Object.defineProperty(t.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),t.prototype._setParent=function(t){this._parent=t},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),t.prototype.countChildren=function(e){if(void 0===e&&(e=t.MAX_SAFE_INTEGER),e<=0)return 0;for(var n=this.children,r=n.length,i=r,o=0;o<r;o++)i+=n[o].countChildren(e-1);return i},t.prototype.append=function(e){t.isNode(e)&&(e=[e]);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(i.parent)throw new Error(i+" already belongs to another parent: "+i.parent+".");if(i.scene)throw new Error(i+" already belongs a scene: "+i.scene+".");if(this.childSet[i.id])throw new Error("Duplicate "+i.constructor.name+" node: "+i);this._children.push(i),this.childSet[i.id]=!0,i._setParent(this),i._setScene(this.scene)}this.dirty=!0},t.prototype.appendChild=function(t){if(t.parent)throw new Error(t+" already belongs to another parent: "+t.parent+".");if(t.scene)throw new Error(t+" already belongs to a scene: "+t.scene+".");if(this.childSet[t.id])throw new Error("Duplicate "+t.constructor.name+" node: "+t);return this._children.push(t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0,t},t.prototype.removeChild=function(t){if(t.parent===this){var e=this.children.indexOf(t);if(e>=0)return this._children.splice(e,1),delete this.childSet[t.id],t._setParent(),t._setScene(),this.dirty=!0,t}throw new Error("The node to be removed is not a child of this node.")},t.prototype.insertBefore=function(t,e){var n=t.parent;if(t.parent&&t.parent.removeChild(t),e&&e.parent===this){var r=this.children.indexOf(e);if(!(r>=0))throw new Error(e+" has "+n+" as the parent, but is not in its list of children.");this._children.splice(r,0,t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0}else this.append(t);return t},Object.defineProperty(t.prototype,"nextSibling",{get:function(){var t=this.parent;if(t){var e=t.children,n=e.indexOf(this);if(n>=0&&n<=e.length-1)return e[n+1]}},enumerable:!0,configurable:!0}),t.prototype.transformPoint=function(t,e){for(var n=i.flyweight(this.matrix),r=this.parent;r;)n.preMultiplySelf(r.matrix),r=r.parent;return n.invertSelf().transformPoint(t,e)},t.prototype.inverseTransformPoint=function(t,e){for(var n=i.flyweight(this.matrix),r=this.parent;r;)n.preMultiplySelf(r.matrix),r=r.parent;return n.transformPoint(t,e)},Object.defineProperty(t.prototype,"dirtyTransform",{get:function(){return this._dirtyTransform},set:function(t){this._dirtyTransform=t,t&&(this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scalingX",{get:function(){return this._scalingX},set:function(t){this._scalingX!==t&&(this._scalingX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scalingY",{get:function(){return this._scalingY},set:function(t){this._scalingY!==t&&(this._scalingY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scalingCenterX",{get:function(){return this._scalingCenterX},set:function(t){this._scalingCenterX!==t&&(this._scalingCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scalingCenterY",{get:function(){return this._scalingCenterY},set:function(t){this._scalingCenterY!==t&&(this._scalingCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationCenterX",{get:function(){return this._rotationCenterX},set:function(t){this._rotationCenterX!==t&&(this._rotationCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationCenterY",{get:function(){return this._rotationCenterY},set:function(t){this._rotationCenterY!==t&&(this._rotationCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(t){this.rotation=t/180*Math.PI},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"translationX",{get:function(){return this._translationX},set:function(t){this._translationX!==t&&(this._translationX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"translationY",{get:function(){return this._translationY},set:function(t){this._translationY!==t&&(this._translationY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),t.prototype.containsPoint=function(t,e){return!1},t.prototype.pickNode=function(t,e){if(this.visible&&this.pointerEvents!==a.None&&this.containsPoint(t,e)){var n=this.children;if(n.length)for(var r=n.length-1;r>=0;r--){var i=n[r].pickNode(t,e);if(i)return i}else if(!this.isContainerNode)return this}},t.prototype.computeBBox=function(){},t.prototype.computeBBoxCenter=function(){var t=this.computeBBox&&this.computeBBox();return t?[t.x+.5*t.width,t.y+.5*t.height]:[0,0]},t.prototype.computeTransformMatrix=function(){var t,e,n=s([0,0],2),r=n[0],i=n[1],o=this.scalingX,a=this.scalingY;1===o&&1===a?(t=0,e=0):(t=null===this.scalingCenterX?r:this.scalingCenterX,e=null===this.scalingCenterY?i:this.scalingCenterY);var u,h,l=this.rotation,c=Math.cos(l),f=Math.sin(l);0===l?(u=0,h=0):(u=null===this.rotationCenterX?r:this.rotationCenterX,h=null===this.rotationCenterY?i:this.rotationCenterY);var p=this.translationX,d=this.translationY,y=t*(1-o)-u,g=e*(1-a)-h;this.dirtyTransform=!1,this.matrix.setElements([c*o,f*o,-f*a,c*a,c*y-f*g+u+p,f*y+c*g+h+d]).inverseTo(this.inverseMatrix)},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},set:function(t){this._dirty=t,t&&(this.parent?this.parent.dirty=!0:this.scene&&(this.scene.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this.dirty=!0)},enumerable:!0,configurable:!0}),t.MAX_SAFE_INTEGER=Math.pow(2,53)-1,t}(),l=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isContainerNode=!0,e._opacity=1,e}return l(e,t),Object.defineProperty(e.prototype,"opacity",{get:function(){return this._opacity},set:function(t){t=Math.min(1,Math.max(0,t)),this._opacity!==t&&(this._opacity=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.containsPoint=function(t,e){return!0},e.prototype.computeBBox=function(){var t=1/0,r=-1/0,o=1/0,a=-1/0;return this.dirtyTransform&&this.computeTransformMatrix(),this.children.forEach((function(n){if(n.visible){var s=n.computeBBox();if(s){if(!(n instanceof e)){n.dirtyTransform&&n.computeTransformMatrix();for(var u=i.flyweight(n.matrix),h=n.parent;h;)u.preMultiplySelf(h.matrix),h=h.parent;u.transformBBox(s,0,s)}var l=s.x,c=s.y;l<t&&(t=l),c<o&&(o=c),l+s.width>r&&(r=l+s.width),c+s.height>a&&(a=c+s.height)}}})),new n(t,o,r-t,a-o)},e.prototype.render=function(t){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t);var e=this.children,n=e.length;t.globalAlpha*=this.opacity;for(var r=0;r<n;r++){var i=e[r];i.visible&&(t.save(),i.render(t),t.restore())}},e.className="Group",e}(h);function f(t,e){var n=Object.create(t);for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.lastInstanceId=0,n._fillOpacity=1,n._strokeOpacity=1,n._fill=e.defaultStyles.fill,n._stroke=e.defaultStyles.stroke,n._strokeWidth=e.defaultStyles.strokeWidth,n._lineDash=e.defaultStyles.lineDash,n._lineDashOffset=e.defaultStyles.lineDashOffset,n._lineCap=e.defaultStyles.lineCap,n._lineJoin=e.defaultStyles.lineJoin,n._opacity=e.defaultStyles.opacity,n.onShadowChange=function(){n.dirty=!0},n._fillShadow=e.defaultStyles.fillShadow,n._strokeShadow=e.defaultStyles.strokeShadow,n}return p(e,t),e.createInstance=function(t){var e=Object.create(t);return e._setParent(void 0),e.id=t.id+"-Instance-"+String(++t.lastInstanceId),e},e.prototype.restoreOwnStyles=function(){for(var t=this.constructor.defaultStyles,e=Object.getOwnPropertyNames(t),n=0,r=e.length;n<r;n++){var i=e[n];this[i]=t[i]}},e.prototype.restoreAllStyles=function(){var t=this.constructor.defaultStyles;for(var e in t)this[e]=t[e]},e.prototype.restoreOverriddenStyles=function(){var t=this.constructor.defaultStyles,e=Object.getPrototypeOf(t);for(var n in t)t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&(this[n]=t[n])},Object.defineProperty(e.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(t){this._fillOpacity!==t&&(this._fillOpacity=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(t){this._strokeOpacity!==t&&(this._strokeOpacity=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(t){this._fill!==t&&(this._fill=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(t){this._stroke!==t&&(this._stroke=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(t){this._strokeWidth!==t&&(this._strokeWidth=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return Math.floor(this.strokeWidth)%2/2},enumerable:!0,configurable:!0}),e.prototype.align=function(t,e,n){return null!=n?Math.floor(n)+Math.floor(e%1+n%1):Math.floor(e)+t},Object.defineProperty(e.prototype,"lineDash",{get:function(){return this._lineDash},set:function(t){var e=this._lineDash;if(e!==t){if(e&&t&&e.length===t.length){for(var n=!0,r=t.length,i=0;i<r;i++)if(e[i]!==t[i]){n=!1;break}if(n)return}this._lineDash=t,this.dirty=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineDashOffset",{get:function(){return this._lineDashOffset},set:function(t){this._lineDashOffset!==t&&(this._lineDashOffset=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineCap",{get:function(){return this._lineCap},set:function(t){this._lineCap!==t&&(this._lineCap=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){return this._opacity},set:function(t){t=Math.min(1,Math.max(0,t)),this._opacity!==t&&(this._opacity=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillShadow",{get:function(){return this._fillShadow},set:function(t){var e=this._fillShadow;e!==t&&(e&&e.removeEventListener("change",this.onShadowChange),t&&t.addEventListener("change",this.onShadowChange),this._fillShadow=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeShadow",{get:function(){return this._strokeShadow},set:function(t){var e=this._strokeShadow;e!==t&&(e&&e.removeEventListener("change",this.onShadowChange),t&&t.addEventListener("change",this.onShadowChange),this._strokeShadow=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.fillStroke=function(t){if(this.scene){var e=this.scene.canvas.pixelRatio||1,n=t.globalAlpha;if(this.fill){t.fillStyle=this.fill,t.globalAlpha=n*this.opacity*this.fillOpacity;var r=this.fillShadow;r&&r.enabled&&(t.shadowColor=r.color,t.shadowOffsetX=r.xOffset*e,t.shadowOffsetY=r.yOffset*e,t.shadowBlur=r.blur*e),t.fill()}if(t.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth){t.strokeStyle=this.stroke,t.globalAlpha=n*this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin);var i=this.strokeShadow;i&&i.enabled&&(t.shadowColor=i.color,t.shadowOffsetX=i.xOffset*e,t.shadowOffsetY=i.yOffset*e,t.shadowBlur=i.blur*e),t.stroke()}}},e.prototype.containsPoint=function(t,e){return this.isPointInPath(t,e)},e.defaultStyles=f({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,strokeShadow:void 0}),e}(h),y=Math.sign?Math.sign:function(t){return 0===(t=+t)||isNaN(t)?t:t>0?1:-1};function g(t,e,n,r){if(0===t)return function(t,e,n){if(0===t)return function(t,e){var n=-e/t;return 0!==t&&n>=0&&n<=1?[n]:[]}(e,n);var r=e*e-4*t*n,i=[];if(0===r){var o=-e/(2*t);o>=0&&o<=1&&i.push(o)}else if(r>0){var a=Math.sqrt(r),s=(-e-a)/(2*t),u=(-e+a)/(2*t);s>=0&&s<=1&&i.push(s),u>=0&&u<=1&&i.push(u)}return i}(e,n,r);var i=e/t,o=n/t,a=(3*o-i*i)/9,s=(9*i*o-27*(r/t)-2*i*i*i)/54,u=a*a*a+s*s,h=[];if(u>=0){var l=Math.sqrt(u),c=y(s+l)*Math.pow(Math.abs(s+l),1/3),f=y(s-l)*Math.pow(Math.abs(s-l),1/3),p=Math.abs(Math.sqrt(3)*(c-f)/2),d=-1/3*i+(c+f);if(d>=0&&d<=1&&h.push(d),0===p){var g=-1/3*i-(c+f)/2;g>=0&&g<=1&&h.push(g)}}else{var m=Math.acos(s/Math.sqrt(-a*a*a)),v=1/3*i,b=2*Math.sqrt(-a),x=b*Math.cos(1/3*m)-v,_=b*Math.cos(1/3*(m+2*Math.PI))-v,w=b*Math.cos(1/3*(m+4*Math.PI))-v;x>=0&&x<=1&&h.push(x),_>=0&&_<=1&&h.push(_),w>=0&&w<=1&&h.push(w)}return h}function m(t,e,n,r,i,o,a,s){var u=(n-t)*(s-o)-(r-e)*(a-i);if(0===u)return null;var h=((a-i)*(e-o)-(t-i)*(s-o))/u,l=((n-t)*(e-o)-(r-e)*(t-i))/u;return h>=0&&h<=1&&l>=0&&l<=1?{x:t+h*(n-t),y:e+h*(r-e)}:null}function v(t,e,n,r,i,o,a,s,u,h,l,c){for(var f=[],p=h-c,d=l-u,y=u*(c-h)-h*(l-u),m=b(t,n,i,a),v=b(e,r,o,s),x=g(p*m[0]+d*v[0],p*m[1]+d*v[1],p*m[2]+d*v[2],p*m[3]+d*v[3]+y),_=0;_<x.length;_++){var w=x[_],S=w*w,k=w*S,D=m[0]*k+m[1]*S+m[2]*w+m[3],O=v[0]*k+v[1]*S+v[2]*w+v[3],M=void 0;(M=u!==l?(D-u)/(l-u):(O-h)/(c-h))>=0&&M<=1&&f.push({x:D,y:O})}return f}function b(t,e,n,r){return[3*e-t-3*n+r,3*t-6*e+3*n,-3*t+3*e,t]}var x=function(){function t(){this.commands=[],this.params=[],this._closedPath=!1}return t.prototype.moveTo=function(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push("M"),this.params.push(t,e)},t.prototype.lineTo=function(t,e){this.xy?(this.commands.push("L"),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)},t.prototype.rect=function(t,e,n,r){this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+r),this.lineTo(t,e+r),this.closePath()},t.prototype.arcTo=function(t,e,n,r,i,o,a){var s=this.xy;if(s){t<0&&(t=-t),e<0&&(e=-e);var u=s[0],h=s[1],l=(u-o)/2,c=(h-a)/2,f=Math.sin(n),p=Math.cos(n),d=p*l+f*c,y=-f*l+p*c,g=d/t,m=y/e,v=g*g+m*m,b=(u+o)/2,x=(h+a)/2,_=0,w=0;v>=1?(t*=v=Math.sqrt(v),e*=v):(v=Math.sqrt(1/v-1),r===i&&(v=-v),b+=p*(_=v*t*m)-f*(w=-v*e*g),x+=f*_+p*w);var S=Math.atan2((y-w)/e,(d-_)/t),k=Math.atan2((-y-w)/e,(-d-_)/t)-S;this.cubicArc(b,x,t,e,n,S,S+k,1-i)}},t.cubicArc=function(t,e,n,r,i,o,a,s,u,h){if(h){var l=s;s=u,u=l}var c=e.length,f=.5522847498307935,p=Math.sin(s),d=Math.cos(s),y=Math.sin(a),g=Math.cos(a),m=Math.PI/2,v=g*d*i-y*p*o,b=y*d*i+g*p*o,x=-g*p*i-y*d*o,_=-y*p*i+g*d*o;for((u-=s)<0&&(u+=2*Math.PI),t.push("M"),e.push(v+n,b+r);u>=m;){u-=m,t.push("C");var w=x+n;e.push(v+x*f+n,b+_*f+r,v*f+x+n,b*f+_+r,Math.abs(w)<1e-8?0:w,_+r);l=v;v=x,x=-l,l=b,b=_,_=-l}if(u){var S=4/3*Math.tan(u/4),k=Math.sin(u),D=Math.cos(u),O=D+S*k,M=k-S*D;t.push("C");w=v*D+x*k+n;e.push(v+x*S+n,b+_*S+r,v*O+x*M+n,b*O+_*M+r,Math.abs(w)<1e-8?0:w,b*D+_*k+r)}if(h)for(var P=c,C=e.length-2;P<C;P+=2,C-=2){l=e[P];e[P]=e[C],e[C]=l,l=e[P+1],e[P+1]=e[C+1],e[C+1]=l}},t.prototype.cubicArc=function(e,n,r,i,o,a,s,u){var h=this.commands,l=this.params,c=h.length;t.cubicArc(h,l,e,n,r,i,o,a,s,u);var f=l[l.length-2],p=l[l.length-1];this.xy?(h[c]="L",this.xy[0]=f,this.xy[1]=p):this.xy=[f,p]},t.prototype.deCasteljau=function(t,e){var n=t.length;if(n<2||n%2==1)throw new Error("Fewer than two points or not an even count.");if(2===n||0===e)return t.slice(0,2);if(1===e)return t.slice(-2);for(var r=[],i=n-2,o=0;o<i;o+=2)r.push((1-e)*t[o]+e*t[o+2],(1-e)*t[o+1]+e*t[o+3]);return this.deCasteljau(r,e)},t.prototype.approximateCurve=function(t,e){var n=this.deCasteljau(t,0);this.moveTo(n[0],n[1]);for(var r=1/e,i=r;i<=1;i+=r){var o=this.deCasteljau(t,i);this.lineTo(o[0],o[1])}},t.prototype.quadraticCurveTo=function(t,e,n,r){this.xy||this.moveTo(t,e),this.cubicCurveTo((this.xy[0]+2*t)/3,(this.xy[1]+2*e)/3,(2*t+n)/3,(2*e+r)/3,n,r)},t.prototype.cubicCurveTo=function(t,e,n,r,i,o){this.xy||this.moveTo(t,e),this.commands.push("C"),this.params.push(t,e,n,r,i,o),this.xy[0]=i,this.xy[1]=o},Object.defineProperty(t.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),t.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},t.prototype.clear=function(){this.commands.length=0,this.params.length=0,this.xy=void 0,this._closedPath=!1},t.prototype.isPointInPath=function(t,e){for(var n=this.commands,r=this.params,i=n.length,o=-1e4,a=-1e4,s=NaN,u=NaN,h=0,l=0,c=0,f=0,p=0;f<i;f++)switch(n[f]){case"M":isNaN(s)||m(s,u,h,l,o,a,t,e)&&c++,s=h=r[p++],u=l=r[p++];break;case"L":m(h,l,h=r[p++],l=r[p++],o,a,t,e)&&c++;break;case"C":c+=v(h,l,r[p++],r[p++],r[p++],r[p++],h=r[p++],l=r[p++],o,a,t,e).length;break;case"Z":isNaN(s)||m(s,u,h,l,o,a,t,e)&&c++}return c%2==1},t.fromString=function(e){var n=new t;return n.setFromString(e),n},t.parseSvgPath=function(e){return e.trim().split(t.splitCommandsRe).map((function(e){var n=e.match(t.matchParamsRe);return{command:e.substr(0,1),params:n?n.map(parseFloat):[]}}))},t.prettifySvgPath=function(e){return t.parseSvgPath(e).map((function(t){return t.command+t.params.join(",")})).join("\n")},t.prototype.setFromString=function(e){var n,r,i,o,a,s=this;function u(){a.match(t.quadraticCommandRe)||(i=n,o=r)}function h(){a.match(t.cubicCommandRe)||(i=n,o=r)}this.clear(),t.parseSvgPath(e).forEach((function(t){var e=t.params,l=e.length,c=0;switch(t.command){case"M":for(s.moveTo(n=e[c++],r=e[c++]);c<l;)s.lineTo(n=e[c++],r=e[c++]);break;case"m":for(s.moveTo(n+=e[c++],r+=e[c++]);c<l;)s.lineTo(n+=e[c++],r+=e[c++]);break;case"L":for(;c<l;)s.lineTo(n=e[c++],r=e[c++]);break;case"l":for(;c<l;)s.lineTo(n+=e[c++],r+=e[c++]);break;case"C":for(;c<l;)s.cubicCurveTo(e[c++],e[c++],i=e[c++],o=e[c++],n=e[c++],r=e[c++]);break;case"c":for(;c<l;)s.cubicCurveTo(n+e[c++],r+e[c++],i=n+e[c++],o=r+e[c++],n+=e[c++],r+=e[c++]);break;case"S":for(h();c<l;)s.cubicCurveTo(n+n-i,r+r-o,i=e[c++],o=e[c++],n=e[c++],r=e[c++]);break;case"s":for(h();c<l;)s.cubicCurveTo(n+n-i,r+r-o,i=n+e[c++],o=r+e[c++],n+=e[c++],r+=e[c++]);break;case"Q":for(;c<l;)s.quadraticCurveTo(i=e[c++],o=e[c++],n=e[c++],r=e[c++]);break;case"q":for(;c<l;)s.quadraticCurveTo(i=n+e[c++],o=r+e[c++],n+=e[c++],r+=e[c++]);break;case"T":for(u();c<l;)s.quadraticCurveTo(i=n+n-i,o=r+r-o,n=e[c++],r=e[c++]);break;case"t":for(u();c<l;)s.quadraticCurveTo(i=n+n-i,o=r+r-o,n+=e[c++],r+=e[c++]);break;case"A":for(;c<l;)s.arcTo(e[c++],e[c++],e[c++]*Math.PI/180,e[c++],e[c++],n=e[c++],r=e[c++]);break;case"a":for(;c<l;)s.arcTo(e[c++],e[c++],e[c++]*Math.PI/180,e[c++],e[c++],n+=e[c++],r+=e[c++]);break;case"Z":case"z":s.closePath();break;case"H":for(;c<l;)s.lineTo(n=e[c++],r);break;case"h":for(;c<l;)s.lineTo(n+=e[c++],r);break;case"V":for(;c<l;)s.lineTo(n,r=e[c++]);break;case"v":for(;c<l;)s.lineTo(n,r+=e[c++])}a=t.command}))},t.prototype.toString=function(){for(var t=this.commands,e=this.params,n=t.length,r=[],i=0,o=0;i<n;i++)switch(t[i]){case"M":r.push("M"+e[o++]+","+e[o++]);break;case"L":r.push("L"+e[o++]+","+e[o++]);break;case"C":r.push("C"+e[o++]+","+e[o++]+" "+e[o++]+","+e[o++]+" "+e[o++]+","+e[o++]);break;case"Z":r.push("Z")}return r.join("")},t.prototype.toPrettyString=function(){return t.prettifySvgPath(this.toString())},t.prototype.toSvg=function(){return t.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="'+t.xmlns+'">\n    <path d="'+this.toString()+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},t.prototype.toDebugSvg=function(){var e=t.prettifySvgPath(this.toString());return t.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="'+t.xmlns+'">\n    <path d="'+e+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},t.prototype.toCubicPaths=function(){var t,e,n,r,i,o=[],a=this.params,s=0;return this.commands.forEach((function(u){switch(u){case"M":t=[e=r=a[s++],n=i=a[s++]],o.push(t);break;case"L":var h=a[s++],l=a[s++];t.push((r+r+h)/3,(i+i+l)/3,(r+h+h)/3,(i+l+l)/3,r=h,i=l);break;case"C":t.push(a[s++],a[s++],a[s++],a[s++],r=a[s++],i=a[s++]);break;case"Z":t.push((r+r+e)/3,(i+i+n)/3,(r+e+e)/3,(i+n+n)/3,r=e,i=n)}})),o},t.cubicPathToString=function(t){var e=t.length;if(!(e%2==0&&(e/2-1)/2>=1))throw new Error("Invalid path.");return"M"+t.slice(0,2).join(",")+"C"+t.slice(2).join(",")},t.splitCommandsRe=/(?=[AaCcHhLlMmQqSsTtVvZz])/g,t.matchParamsRe=/-?[0-9]*\.?\d+/g,t.quadraticCommandRe=/[QqTt]/,t.cubicCommandRe=/[CcSs]/,t.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>',t.xmlns="http://www.w3.org/2000/svg",t}(),_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.path=new x,e._dirtyPath=!0,e._svgPath="",e}return _(e,t),Object.defineProperty(e.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"svgPath",{get:function(){return this._svgPath},set:function(t){this._svgPath!==t&&(this._svgPath=t,this.path.setFromString(t),this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.path.closedPath&&this.path.isPointInPath(n.x,n.y)},e.prototype.isPointInStroke=function(t,e){return!1},e.prototype.updatePath=function(){},e.prototype.render=function(t){var e=this.scene;this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t),this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),e.appendPath(this.path),this.fillStroke(t),this.dirty=!1},e.className="Path",e}(d),S=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=function(t){function e(){var e=t.call(this)||this;return e._x1=0,e._y1=0,e._x2=0,e._y2=0,e.restoreOwnStyles(),e}return S(e,t),Object.defineProperty(e.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1!==t&&(this._x1=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1!==t&&(this._y1=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2!==t&&(this._x2=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2!==t&&(this._y2=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.computeBBox=function(){return new n(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},e.prototype.isPointInPath=function(t,e){return!1},e.prototype.isPointInStroke=function(t,e){return!1},e.prototype.render=function(t){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t);var e=this.x1,n=this.y1,r=this.x2,i=this.y2;if(e===r){var o=Math.round(e)+Math.floor(this.strokeWidth)%2/2;e=o,r=o}else if(n===i){var a=Math.round(n)+Math.floor(this.strokeWidth)%2/2;n=a,i=a}t.beginPath(),t.moveTo(e,n),t.lineTo(r,i),this.fillStroke(t),this.dirty=!1},e.className="Line",e.defaultStyles=f(d.defaultStyles,{fill:void 0,strokeWidth:1}),e}(d),D=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},O=function(){function t(){this.type="band",this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(t.prototype,"domain",{get:function(){return this._domain},set:function(t){var e=this._domain;e.length=0,this.index=new Map;var n=this.index;t.forEach((function(t){void 0===n.get(t)&&n.set(t,e.push(t)-1)})),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this._range},set:function(t){this._range[0]=t[0],this._range[1]=t[1],this.rescale()},enumerable:!0,configurable:!0}),t.prototype.ticks=function(){return this._domain},t.prototype.convert=function(t){var e=this.index.get(t);if(void 0===e)return NaN;var n=this.ordinalRange[e];return void 0===n?NaN:n},Object.defineProperty(t.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._paddingInner},set:function(t){t=Math.max(0,Math.min(1,t)),this._paddingInner=t,this._paddingOuter=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(t){this._paddingInner=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(t){this._paddingOuter=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"round",{get:function(){return this._round},set:function(t){this._round=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),t.prototype.rescale=function(){var t,e=this._domain.length;if(e){var n=D(this._range,2),r=n[0],i=n[1],o=i<r;o&&(r=(t=D([i,r],2))[0],i=t[1]);var a=(i-r)/Math.max(1,e-this._paddingInner+2*this._paddingOuter);this._round&&(a=Math.floor(a)),r+=(i-r-a*(e-this._paddingInner))*this._align,this._bandwidth=a*(1-this._paddingInner),this._round&&(r=Math.round(r),this._bandwidth=Math.round(this._bandwidth));for(var s=[],u=0;u<e;u++)s.push(r+a*u);this.ordinalRange=o?s.reverse():s}},t}(),M=function(){function t(t,e){this.next=null,this.scene=t.scene,this.parent=t,this.datum=e}return t.prototype.appendChild=function(t){if(null===this.next)return this.parent.insertBefore(t,null);if(!h.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(t,this.next)},t.prototype.insertBefore=function(t,e){return this.parent.insertBefore(t,e)},t}(),P=function(){function t(t,e){this.groups=t,this.parents=e}return t.select=function(e){return new t([["function"==typeof e?e():e]],[void 0])},t.selectAll=function(e){return new t([null==e?[]:e],[void 0])},t.prototype.append=function(t){return this.select((function(e){return e.appendChild(new t)}))},t.prototype.appendFn=function(t){return this.select((function(e,n,r,i){return e.appendChild(t(e,n,r,i))}))},t.prototype.select=function(e){for(var n=this.groups,r=n.length,i=[],o=0;o<r;o++)for(var a=n[o],s=a.length,u=i[o]=new Array(s),h=0;h<s;h++){var l=a[h];if(l){var c=e(l,l.datum,h,a);c&&(c.datum=l.datum),u[h]=c}}return new t(i,this.parents)},t.prototype.selectByClass=function(t){return this.select((function(e){if(h.isNode(e))for(var n=e.children,r=n.length,i=0;i<r;i++){var o=n[i];if(o instanceof t)return o}}))},t.prototype.selectByTag=function(t){return this.select((function(e){if(h.isNode(e))for(var n=e.children,r=n.length,i=0;i<r;i++){var o=n[i];if(o.tag===t)return o}}))},t.prototype.selectAllByClass=function(t){return this.selectAll((function(e){var n=[];if(h.isNode(e))for(var r=e.children,i=r.length,o=0;o<i;o++){var a=r[o];a instanceof t&&n.push(a)}return n}))},t.prototype.selectAllByTag=function(t){return this.selectAll((function(e){var n=[];if(h.isNode(e))for(var r=e.children,i=r.length,o=0;o<i;o++){var a=r[o];a.tag===t&&n.push(a)}return n}))},t.prototype.selectNone=function(){return[]},t.prototype.selectAll=function(e){e||(e=this.selectNone);for(var n=[],r=[],i=this.groups,o=i.length,a=0;a<o;a++)for(var s=i[a],u=s.length,h=0;h<u;h++){var l=s[h];l&&(n.push(e(l,l.datum,h,s)),r.push(l))}return new t(n,r)},t.prototype.each=function(t){for(var e=this.groups,n=e.length,r=0;r<n;r++)for(var i=e[r],o=i.length,a=0;a<o;a++){var s=i[a];s&&t(s,s.datum,a,i)}return this},t.prototype.remove=function(){return this.each((function(t){if(h.isNode(t)){var e=t.parent;e&&e.removeChild(t)}}))},t.prototype.merge=function(e){for(var n=this.groups,r=e.groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;u++)for(var h=n[u],l=r[u],c=h.length,f=s[u]=new Array(c),p=0;p<c;p++){var d=h[p]||l[p];f[p]=d||void 0}for(;u<i;u++)s[u]=n[u];return new t(s,this.parents)},t.prototype.node=function(){for(var t=this.groups,e=t.length,n=0;n<e;n++)for(var r=t[n],i=r.length,o=0;o<i;o++){var a=r[o];if(a)return a}return null},t.prototype.attr=function(t,e){return this.each((function(n){n[t]=e})),this},t.prototype.attrFn=function(t,e){return this.each((function(n,r,i,o){n[t]=e(n,r,i,o)})),this},t.prototype.call=function(t){return t(this),this},Object.defineProperty(t.prototype,"size",{get:function(){var t=0;return this.each((function(){return t++})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){var t=[];return this.each((function(e,n){return t.push(n)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enter",{get:function(){return new t(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exit",{get:function(){return new t(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),t.prototype.setDatum=function(t){return this.each((function(e){e.datum=t}))},Object.defineProperty(t.prototype,"datum",{get:function(){var t=this.node();return t?t.datum:null},enumerable:!0,configurable:!0}),t.prototype.setData=function(e,n){if("function"!=typeof e){var r=e;e=function(){return r}}for(var i=this.groups,o=this.parents,a=i.length,s=new Array(a),u=new Array(a),h=new Array(a),l=0;l<a;l++){var c=i[l],f=o[l];if(!f)throw new Error("Group #"+l+" has no parent: "+c);var p=c.length,d=e(f,f.datum,l,o),y=d.length,g=u[l]=new Array(y),m=s[l]=new Array(y),v=h[l]=new Array(p);n?this.bindKey(f,c,g,m,v,d,n):this.bindIndex(f,c,g,m,v,d);for(var b=0,x=0;b<y;b++){var _=g[b];if(_){b>=x&&(x=b+1);for(var w=void 0;!(w=m[x])&&x<y;)x++;_.next=w||null}}}var S=new t(s,o);return S.enterGroups=u,S.exitGroups=h,S},t.prototype.bindIndex=function(t,e,n,r,i,o){for(var a=e.length,s=o.length,u=0;u<s;u++){(h=e[u])?(h.datum=o[u],r[u]=h):n[u]=new M(t,o[u])}for(;u<a;u++){var h;(h=e[u])&&(i[u]=h)}},t.prototype.bindKey=function(e,n,r,i,o,a,s){for(var u=n.length,h=a.length,l=new Array(u),c={},f=0;f<u;f++){if(d=n[f])(p=l[f]=t.keyPrefix+s(d,d.datum,f,n))in c?o[f]=d:c[p]=d}for(f=0;f<h;f++){var p;(d=c[p=t.keyPrefix+s(e,a[f],f,a)])?(i[f]=d,d.datum=a[f],c[p]=void 0):r[f]=new M(e,a[f])}for(f=0;f<u;f++){var d;(d=n[f])&&c[l[f]]===d&&(o[f]=d)}},t.keyPrefix="$",t}(),C=function(){function t(t,e,n){void 0===t&&(t=window.document),void 0===e&&(e=600),void 0===n&&(n=300),this._container=void 0,this._pixelRatio=NaN,this._width=100,this._height=100,this.document=t,this.element=t.createElement("canvas"),this.context=this.element.getContext("2d"),this.element.style.userSelect="none",this.element.style.display="block",this.setPixelRatio(),this.resize(e,n)}return Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)},enumerable:!0,configurable:!0}),t.prototype.remove=function(){var t=this.element.parentNode;null!=t&&t.removeChild(this.element)},t.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},t.prototype.toImage=function(){var t=this.document.createElement("img");return t.src=this.getDataURL(),t},t.prototype.getDataURL=function(t){return this.element.toDataURL(t)},t.prototype.download=function(t){t=((t||"").trim()||"image")+".png";var e=this.getDataURL("image/png"),n=this.document,r=n.createElement("a");r.href=e,r.download=t,r.style.display="none",n.body.appendChild(r),r.click(),n.body.removeChild(r)},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),t.prototype.setPixelRatio=function(e){var n=e||window.devicePixelRatio;n!==this.pixelRatio&&(t.overrideScale(this.context,n),this._pixelRatio=n,this.resize(this.width,this.height))},Object.defineProperty(t.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(t){this.element.style.imageRendering=t?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),t.prototype.resize=function(t,e){if(t>0&&e>0){var n=this.element,r=this.context,i=this.pixelRatio;n.width=Math.round(t*i),n.height=Math.round(e*i),n.style.width=t+"px",n.style.height=e+"px",r.resetTransform(),this._width=t,this._height=e}},Object.defineProperty(t,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var t=document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"svgText",{get:function(){if(this._svgText)return this._svgText;var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var n=document.createElementNS(t,"text");return n.setAttribute("x","0"),n.setAttribute("y","30"),n.setAttribute("text","black"),e.appendChild(n),document.body.appendChild(e),this._svgText=n,n},enumerable:!0,configurable:!0}),Object.defineProperty(t,"has",{get:function(){if(this._has)return this._has;var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,n=!t&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!n,getTransform:void 0!==this.textMeasuringContext.getTransform})},enumerable:!0,configurable:!0}),t.measureText=function(t,e,n,r){var i=this.textMeasuringContext;return i.font=e,i.textBaseline=n,i.textAlign=r,i.measureText(t)},t.getTextSize=function(t,e){if(this.has.textMetrics){var n=this.textMeasuringContext;n.font=e;var r=n.measureText(t);return{width:r.width,height:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent}}return this.measureSvgText(t,e)},t.measureSvgText=function(t,e){var n=this.textSizeCache,r=n[e];if(r){var i=r[t];if(i)return i}else n[e]={};var o=this.svgText;o.style.font=e,o.textContent=t;var a=o.getBBox(),s={width:a.width,height:a.height};return n[e][t]=s,s},t.overrideScale=function(t,e){var n=0,r={save:function(){this.$save(),n++},restore:function(){n>0&&(this.$restore(),n--)},setTransform:function(t,n,r,i,o,a){this.$setTransform(t*e,n*e,r*e,i*e,o*e,a*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0),this.save(),n=0}};for(var i in r)r.hasOwnProperty(i)&&(t["$"+i]||(t["$"+i]=t[i]),t[i]=r[i])},t.textSizeCache={},t}(),F=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},T=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(F(arguments[e]));return t},A=function(){function t(t,e,n){var r=this;void 0===t&&(t=window.document),this.id=o(this),this._dirty=!1,this.animationFrameId=0,this._root=null,this.debug={renderFrameIndex:!1,renderBoundingBoxes:!1},this._frameIndex=0,this.render=function(){var t,e=r,n=e.ctx,i=e.root,o=e.pendingSize;r.animationFrameId=0,o&&((t=r.canvas).resize.apply(t,T(o)),r.pendingSize=void 0),!i||i.visible?(n.clearRect(0,0,r.width,r.height),i&&(n.save(),i.visible&&i.render(n),n.restore()),r._frameIndex++,r.debug.renderFrameIndex&&(n.fillStyle="white",n.fillRect(0,0,40,15),n.fillStyle="black",n.fillText(r.frameIndex.toString(),2,10)),r.dirty=!1):r.dirty=!1},this.canvas=new C(t,e,n),this.ctx=this.canvas.context}return Object.defineProperty(t.prototype,"container",{get:function(){return this.canvas.container},set:function(t){this.canvas.container=t},enumerable:!0,configurable:!0}),t.prototype.download=function(t){this.canvas.download(t)},t.prototype.getDataURL=function(t){return this.canvas.getDataURL(t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),t.prototype.resize=function(t,e){t=Math.round(t),e=Math.round(e),t===this.width&&e===this.height||(this.pendingSize=[t,e],this.dirty=!0)},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},set:function(t){t&&!this._dirty&&(this.animationFrameId=requestAnimationFrame(this.render)),this._dirty=t},enumerable:!0,configurable:!0}),t.prototype.cancelRender=function(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0,this._dirty=!1)},Object.defineProperty(t.prototype,"root",{get:function(){return this._root},set:function(t){t!==this._root&&(this._root&&this._root._setScene(),this._root=t,t&&(null===t.parent&&t.scene&&t.scene!==this&&(t.scene.root=null),t._setScene(this)),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.appendPath=function(t){var e=this.ctx,n=t.commands,r=t.params,i=n.length,o=0;e.beginPath();for(var a=0;a<i;a++)switch(n[a]){case"M":e.moveTo(r[o++],r[o++]);break;case"L":e.lineTo(r[o++],r[o++]);break;case"C":e.bezierCurveTo(r[o++],r[o++],r[o++],r[o++],r[o++],r[o++]);break;case"Z":e.closePath()}},Object.defineProperty(t.prototype,"frameIndex",{get:function(){return this._frameIndex},enumerable:!0,configurable:!0}),t.className="Scene",t}(),j=function(){return(j=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},B=function(){function t(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return t.prototype.addPropertyListener=function(t,e,n){void 0===n&&(n=this);var r=this.allPropertyListeners,i=r.get(t);if(i||(i=new Map,r.set(t,i)),!i.has(e)){var o=new Set;i.set(e,o)}var a=i.get(e);a&&a.add(n)},t.prototype.removePropertyListener=function(t,e,n){void 0===n&&(n=this);var r=this.allPropertyListeners.get(t);if(r)if(e){var i=r.get(e);i&&(i.delete(n),i.size||r.delete(e))}else r.clear()},t.prototype.notifyPropertyListeners=function(t,e,n){var r=this,i=this.allPropertyListeners.get(t);i&&i.forEach((function(i,o){i.forEach((function(i){return o.call(i,{type:t,source:r,value:n,oldValue:e})}))}))},t.prototype.addEventListener=function(t,e,n){void 0===n&&(n=this);var r=this.allEventListeners,i=r.get(t);if(i||(i=new Map,r.set(t,i)),!i.has(e)){var o=new Set;i.set(e,o)}var a=i.get(e);a&&a.add(n)},t.prototype.removeEventListener=function(t,e,n){void 0===n&&(n=this);var r=this.allEventListeners.get(t);if(r)if(e){var i=r.get(e);i&&(i.delete(n),i.size||r.delete(e))}else r.clear()},t.prototype.notifyEventListeners=function(t){var e=this,n=this.allEventListeners;t.forEach((function(t){var r=n.get(t);r&&r.forEach((function(n,r){n.forEach((function(n){return r.call(n,{type:t,source:e})}))}))}))},t.prototype.fireEvent=function(t){var e=this,n=this.allEventListeners.get(t.type);n&&n.forEach((function(n,r){n.forEach((function(n){return r.call(n,j(j({},t),{source:e}))}))}))},t.privateKeyPrefix="_",t}();function E(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.indexOf("debugger");return function(e,n){var r=B.privateKeyPrefix+n,i=r+"Events";e[n]||(t&&(e[i]=t),Object.defineProperty(e,n,{set:function(t){var e=this[r];if(t!==e||"object"==typeof t&&null!==t){this[r]=t,this.notifyPropertyListeners(n,e,t);var o=this[i];o&&this.notifyEventListeners(o)}},get:function(){return this[r]},enumerable:!0,configurable:!0}))}}var L=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=t),void 0===n&&(n=t),void 0===r&&(r=e),this.top=t,this.right=e,this.bottom=n,this.left=r}return t.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},t}();function N(t){var e=typeof t;return"string"!==e&&("number"===e&&t-t<1)}function W(t){return N(t)||function(t){return!!t&&t.hasOwnProperty("valueOf")&&N(t.valueOf())}(t)}function z(t){return t instanceof Date&&!isNaN(+t)}function R(t){return"string"==typeof t}function I(t){return W(t)||z(t)}function Y(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var H=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},X=function(){function t(t,e,n,r){void 0===r&&(r=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,r||0))}return t.fromString=function(e){if(e.indexOf("#")>=0)return t.fromHexString(e);var n=t.nameToHex[e];if(n)return t.fromHexString(n);if(e.indexOf("rgb")>=0)return t.fromRgbaString(e);throw new Error("Invalid color string: '"+e+"'")},t.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var n=0;n<t.length;n+=2)e.push(parseInt(""+t[n]+t[n+1],16));break;case 3:case 4:e=t.split("").map((function(t){return parseInt(t,16)})).map((function(t){return t+16*t}))}if(e.length>=3&&e.every((function(t){return t>=0})))return 3===e.length&&e.push(255),e},t.fromHexString=function(e){var n=t.parseHex(e);if(n){var r=H(n,4);return new t(r[0]/255,r[1]/255,r[2]/255,r[3]/255)}throw new Error("Malformed hexadecimal color string: '"+e+"'")},t.stringToRgba=function(t){for(var e=H([NaN,NaN],2),n=e[0],r=e[1],i=0;i<t.length;i++){var o=t[i];if(n||"("!==o){if(")"===o){r=i;break}}else n=i}var a=n&&r&&t.substring(n+1,r);if(a){var s=a.split(","),u=[];for(i=0;i<s.length;i++){var h=s[i],l=parseFloat(h);if(isNaN(l))return;h.indexOf("%")>=0?(l=Math.max(0,Math.min(100,l)),l/=100):3===i?l=Math.max(0,Math.min(1,l)):(l=Math.max(0,Math.min(255,l)),l/=255),u.push(l)}return u}},t.fromRgbaString=function(e){var n=t.stringToRgba(e);if(n){if(3===n.length)return new t(n[0],n[1],n[2]);if(4===n.length)return new t(n[0],n[1],n[2],n[3])}throw new Error("Malformed rgb/rgba color string: '"+e+"'")},t.fromArray=function(e){if(4===e.length)return new t(e[0],e[1],e[2],e[3]);if(3===e.length)return new t(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},t.fromHSB=function(e,n,r,i){void 0===i&&(i=1);var o=t.HSBtoRGB(e,n,r);return new t(o[0],o[1],o[2],i)},t.padHex=function(t){return 1===t.length?"0"+t:t},t.prototype.toHexString=function(){var e="#"+t.padHex(Math.round(255*this.r).toString(16))+t.padHex(Math.round(255*this.g).toString(16))+t.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(e+=t.padHex(Math.round(255*this.a).toString(16))),e},t.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*n)/n),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},t.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},t.prototype.toHSB=function(){return t.RGBtoHSB(this.r,this.g,this.b)},t.RGBtoHSB=function(t,e,n){var r=Math.min(t,e,n),i=Math.max(t,e,n),o=NaN;if(r!==i){var a=i-r,s=(i-t)/a,u=(i-e)/a,h=(i-n)/a;o=t===i?h-u:e===i?2+s-h:4+u-s,(o/=6)<0&&(o+=1)}return[360*o,0!==i?(i-r)/i:0,i]},t.HSBtoRGB=function(t,e,n){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var r=0,i=0,o=0;if(0===e)r=i=o=n;else{var a=6*(t-Math.floor(t)),s=a-Math.floor(a),u=n*(1-e),h=n*(1-e*s),l=n*(1-e*(1-s));switch(a>>0){case 0:r=n,i=l,o=u;break;case 1:r=h,i=n,o=u;break;case 2:r=u,i=n,o=l;break;case 3:r=u,i=h,o=n;break;case 4:r=l,i=u,o=n;break;case 5:r=n,i=u,o=h}}return[r,i,o]},t.prototype.derive=function(e,n,r,i){var o=t.RGBtoHSB(this.r,this.g,this.b),a=o[2];0==a&&r>1&&(a=.05);var s=((o[0]+e)%360+360)%360,u=Math.max(Math.min(o[1]*n,1),0);a=Math.max(Math.min(a*r,1),0);var h=Math.max(Math.min(this.a*i,1),0),l=t.HSBtoRGB(s,u,a);return l.push(h),t.fromArray(l)},t.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},t.prototype.darker=function(){return this.derive(0,1,.7,1)},t.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),t}();function U(t,e){if("string"==typeof t)try{t=X.fromString(t)}catch(e){t=X.fromArray([0,0,0])}if("string"==typeof e)try{e=X.fromString(e)}catch(t){e=X.fromArray([0,0,0])}var n=Y(t.r,e.r),r=Y(t.g,e.g),i=Y(t.b,e.b),o=Y(t.a,e.a);return function(t){return X.fromArray([n(t),r(t),i(t),o(t)]).toRgbaString()}}function q(t,e){var n,r=typeof e;if(null==e||"boolean"===r)return n=e,function(){return n};if("number"===r)return Y(t,e);if("string"===r)try{return U(t,e=X.fromString(e))}catch(t){}return e instanceof X?U(t,e):e instanceof Date?function(t,e){var n=new Date,r=+t,i=+e;return function(t){return n.setTime(r*(1-t)+i*t),n}}(t,e):Array.isArray(e)?function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=q(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}(t,e):"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=q(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}(t,e):Y(t,e)}var G=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},V=function(t){return t};function J(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=G([r,n],2),n=e[0],r=e[1]),function(t){return Math.max(n,Math.min(r,t))}}var Z=function(){function t(){this.unknown=void 0,this._clamp=V,this._domain=[0,1],this._range=[0,1],this.transform=V,this.untransform=V,this._interpolate=q,this.rescale()}return Object.defineProperty(t.prototype,"clamp",{get:function(){return this._clamp!==V},set:function(t){this._clamp=t?J(this.domain):V},enumerable:!0,configurable:!0}),t.prototype.setDomain=function(t){this._domain=Array.prototype.map.call(t,(function(t){return+t})),this._clamp!==V&&(this._clamp=J(this.domain)),this.rescale()},t.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(t.prototype,"domain",{get:function(){return this.getDomain()},set:function(t){this.setDomain(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this._range.slice()},set:function(t){this._range=Array.prototype.slice.call(t),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interpolate",{get:function(){return this._interpolate},set:function(t){this._interpolate=t,this.rescale()},enumerable:!0,configurable:!0}),t.prototype.rescale=function(){this.piecewise=this.bimap,this.output=void 0,this.input=void 0},t.prototype.normalize=function(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n},t.prototype.bimap=function(t,e,n){var r,i,o=t[0],a=t[1],s=e[0],u=e[1];return a<o?(r=this.normalize(a,o),i=n(u,s)):(r=this.normalize(o,a),i=n(s,u)),function(t){return i(r(t))}},t.prototype.convert=function(t){return t=+t,isNaN(t)?this.unknown:(this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate)),this.output(this.transform(this._clamp(t))))},t.prototype.invert=function(t){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),Y)),this._clamp(this.untransform(this.input(t)))},t}(),$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function K(t,e,n){var r=nt(t,e,n);return function(t,e,n){void 0===n&&(n=1);for(var r=Math.abs(n),i=r>0&&r<1?Math.abs(Math.floor(Math.log(r)/Math.LN10)):0,o=Math.pow(10,i),a=Math.max(0,Math.ceil((e-t)/n))||0,s=new it(i),u=0;u<a;u++){var h=t+n*u;s[u]=Math.round(h*o)/o}return s}(t=Math.ceil(t/r)*r,e=Math.floor(e/r)*r+r/2,r)}var Q=Math.sqrt(50),tt=Math.sqrt(10),et=Math.sqrt(2);function nt(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Q?i*=10:o>=tt?i*=5:o>=et&&(i*=2),e<t?-i:i}function rt(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Q?10:o>=tt?5:o>=et?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Q?10:o>=tt?5:o>=et?2:1)}var it=function(t){function e(e,n){var r=t.call(this)||this;if(n)for(var i=0,o=n.length;i<o;i++)r[i]=n[i];return r.fractionDigits=e,r}return $(e,t),e}(Array);var ot,at,st,ut,ht={"":function(t,e){var n=t.toPrecision(e);t:for(var r=n.length,i=1,o=-1,a=0;i<r;++i)switch(n[i]){case".":o=a=i;break;case"0":0===o&&(o=i),a=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?n.slice(0,o)+n.slice(a+1):n},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return String(t)},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return gt(100*t,e)},r:gt,s:function(t,e){void 0===e&&(e=0);var n=mt(t,e);if(!n)return String(t);var r=n[0],i=n[1];ot=3*Math.max(-8,Math.min(8,Math.floor(i/3)));var o=i-ot+1,a=r.length;if(o===a)return r;if(o>a)return r+new Array(o-a+1).join("0");if(o>0)return r.slice(0,o)+"."+r.slice(o);var s=mt(t,Math.max(0,e+o-1));return"0."+new Array(1-o).join("0")+s[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},lt=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],ct=function t(e){e instanceof t?(this.fill=e.fill,this.align=e.align,this.sign=e.sign,this.symbol=e.symbol,this.zero=e.zero,this.width=e.width,this.comma=e.comma,this.precision=e.precision,this.trim=e.trim,this.type=e.type,this.string=e.string):(this.fill=void 0===e.fill?" ":String(e.fill),this.align=void 0===e.align?">":String(e.align),this.sign=void 0===e.sign?"-":String(e.sign),this.symbol=void 0===e.symbol?"":String(e.symbol),this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":String(e.type),this.string=e.string)},ft=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,pt=/(#\{(.*?)\})/g;function dt(t){if(t instanceof ct)return new ct(t);var e=!1,n=t.replace(pt,(function(){return e||(t=arguments[2],e=!0),"#{}"})),r=ft.exec(t);if(!r)throw new Error("Invalid format: "+t);return new ct({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10],string:e?n:void 0})}function yt(t,e,n,r){var i,o=nt(t,e,n),a=dt(null==r?",f":r);switch(a.type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=a.precision||isNaN(i=function(t,e){var n=Math.floor(bt(e)/3);return n=Math.min(8,n),n=Math.max(-8,n),Math.max(0,3*n-bt(Math.abs(t)))}(o,s))||(a.precision=i),ut(a,s);case"":case"e":case"g":case"p":case"r":null!=a.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bt(e)-bt(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(a.precision=i-+("e"===a.type));break;case"f":case"%":null!=a.precision||isNaN(i=function(t){return Math.max(0,-bt(Math.abs(t)))}(o))||(a.precision=i-2*+("%"===a.type))}return st(a)}function gt(t,e){var n=mt(t,e);if(!n)return String(t);var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}function mt(t,e){var n=e?t.toExponential(e-1):t.toExponential(),r=n.indexOf("e");if(!(r<0)){var i=n.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+n.slice(r+1)]}}function vt(t){return t}function bt(t){var e=mt(Math.abs(t));return e?e[1]:NaN}at=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?vt:(e=Array.prototype.map.call(t.grouping,Number),n=String(t.thousands),function(t,r){for(var i=[],o=t.length,a=0,s=e[0],u=0;o>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),i.push(t.substring(o-=s,o+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return i.reverse().join(n)}),i=void 0===t.currency?"":String(t.currency[0]),o=void 0===t.currency?"":String(t.currency[1]),a=void 0===t.decimal?".":String(t.decimal),s=void 0===t.numerals?vt:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Array.prototype.map.call(t.numerals,String)),u=void 0===t.percent?"%":String(t.percent),h=void 0===t.minus?"\u2212":String(t.minus),l=void 0===t.nan?"NaN":String(t.nan);function c(t){var e=dt(t),n=e.fill,c=e.align,f=e.sign,p=e.symbol,d=e.zero,y=e.width,g=e.comma,m=e.precision,v=e.trim,b=e.type;"n"===b?(g=!0,b="g"):ht[b]||(void 0===m&&(m=12),v=!0,b="g"),(d||"0"===n&&"="===c)&&(d=!0,n="0",c="=");var x="$"===p?i:"#"===p&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",_="$"===p?o:/[%p]/.test(b)?u:"",w=ht[b],S=/[defgprs%]/.test(b);return m=void 0===m?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),function(t){var i,o=x,u=_;if("c"===b)u=w(+t)+u,i="";else{var p=+t,k=t<0||1/p<0;if(i=isNaN(p)?l:w(Math.abs(p),m),v&&(i=function(t){t:for(var e=t.length,n=1,r=-1,i=0;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":0===r&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(i+1):t}(i)),k&&0==+i&&"+"!==f&&(k=!1),o=(k?"("===f?f:h:"-"===f||"("===f?"":f)+o,u=("s"===b?lt[8+ot/3]:"")+u+(k&&"("===f?")":""),S)for(var D=0,O=i.length;D<O;D++){var M=i.charCodeAt(D);if(48>M||M>57){u=(46===M?a+i.slice(D+1):i.slice(D))+u,i=i.slice(0,D);break}}}g&&!d&&(i=r(i,1/0));var P=o.length+i.length+u.length,C=P<y?new Array(y-P+1).join(n):"";switch(g&&d&&(i=r(C+i,C.length?y-u.length:1/0),C=""),c){case"<":i=o+i+u+C;break;case"=":i=o+C+i+u;break;case"^":i=C.slice(0,P=C.length>>1)+o+i+u+C.slice(P);break;default:i=C+o+i+u}var F=e.string;return F?F.replace(pt,(function(){return s(i)})):s(i)}}return{format:c,formatPrefix:function(t,e){var n=dt(t);n.type="f";var r=c(n),i=3*Math.max(-8,Math.min(8,Math.floor(bt(e)/3))),o=Math.pow(10,-i),a=lt[8+i/3];return function(t){return r(o*+t)+a}}}}({thousands:",",grouping:[3],currency:["$",""]}),st=at.format,ut=at.formatPrefix;var xt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="linear",e}return xt(e,t),e.prototype.ticks=function(t){void 0===t&&(t=10);var e=this._domain;return K(e[0],e[e.length-1],t)},e.prototype.nice=function(t){void 0===t&&(t=10);var e,n=this.domain,r=0,i=n.length-1,o=n[r],a=n[i];a<o&&(e=o,o=a,a=e,e=r,r=i,i=e),(e=rt(o,a,t))>0?e=rt(o=Math.floor(o/e)*e,a=Math.ceil(a/e)*e,t):e<0&&(e=rt(o=Math.ceil(o*e)/e,a=Math.floor(a*e)/e,t)),e>0?(n[r]=Math.floor(o/e)*e,n[i]=Math.ceil(a/e)*e,this.domain=n):e<0&&(n[r]=Math.ceil(o*e)/e,n[i]=Math.floor(a*e)/e,this.domain=n)},e.prototype.tickFormat=function(t,e){var n=this.domain;return yt(n[0],n[n.length-1],null==t?10:t,e)},e}(Z),wt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),St=new Date,kt=new Date,Dt=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o._count=r,o._field=i,o}return wt(e,t),e.prototype.count=function(t,e){return St.setTime(+t),kt.setTime(+e),this._floor(St),this._floor(kt),Math.floor(this._count(St,kt))},e.prototype.every=function(t){var e,n=this;if(t=Math.floor(t),isFinite(t)&&t>0)if(t>1){var r=this._field;e=r?this.filter((function(e){return r(e)%t==0})):this.filter((function(e){return n.count(0,e)%t==0}))}else e=this;return e},e}(function(){function t(t,e){this._floor=t,this._offset=e}return t.prototype.floor=function(t){return t=new Date(+t),this._floor(t),t},t.prototype.ceil=function(t){return t=new Date(+t-1),this._floor(t),this._offset(t,1),this._floor(t),t},t.prototype.round=function(t){var e=this.floor(t),n=this.ceil(t),r=+t;return r-e.getTime()<n.getTime()-r?e:n},t.prototype.offset=function(t,e){return void 0===e&&(e=1),t=new Date(+t),this._offset(t,Math.floor(e)),t},t.prototype.range=function(t,e,n){void 0===n&&(n=1);var r,i=[];if(t=this.ceil(t),n=Math.floor(n),t>e||n<=0)return i;do{r=new Date(+t),i.push(r),this._offset(t,n),this._floor(t)}while(r<t&&t<e);return i},t.prototype.filter=function(e){var n=this;return new t((function(t){if(t>=t)for(;n._floor(t),!e(t);)t.setTime(t.getTime()-1);return t}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)do{n._offset(t,-1)}while(!e(t));else for(;--r>=0;)do{n._offset(t,1)}while(!e(t));return t}))},t}());var Ot=new Dt((function(t){return t}),(function(t,e){t.setTime(t.getTime()+e)}),(function(t,e){return e.getTime()-t.getTime()}));var Mt=new Dt((function(t){t.setTime(t.getTime()-t.getMilliseconds())}),(function(t,e){t.setTime(t.getTime()+1e3*e)}),(function(t,e){return(e.getTime()-t.getTime())/1e3}));var Pt=new Dt((function(t){t.setTime(t.getTime()-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(t.getTime()+6e4*e)}),(function(t,e){return(e.getTime()-t.getTime())/6e4}),(function(t){return t.getMinutes()}));var Ct=new Dt((function(t){t.setTime(t.getTime()-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(t.getTime()+36e5*e)}),(function(t,e){return(e.getTime()-t.getTime())/36e5}),(function(t){return t.getHours()}));var Ft=new Dt((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){var n=e.getTimezoneOffset()-t.getTimezoneOffset();return(e.getTime()-t.getTime()-6e4*n)/864e5}),(function(t){return t.getDate()-1}));function Tt(t){return new Dt((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e.getTime()-t.getTime()-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var At=Tt(0),jt=Tt(1),Bt=(Tt(2),Tt(3),Tt(4));Tt(5),Tt(6);var Et=new Dt((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));var Lt=new Dt((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));function Nt(t,e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=t.length);for(var o=function(t){return function(e,n){return(r=t(e))<(i=n)?-1:r>i?1:r>=i?0:NaN;var r,i}}(n);r<i;){var a=r+i>>>1;o(t[a],e)<0?r=a+1:i=a}return r}var Wt=new Dt((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e.getTime()-t.getTime())/864e5}),(function(t){return t.getUTCDate()-1}));var zt=new Dt((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));function Rt(t){return new Dt((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e.getTime()-t.getTime())/6048e5}))}var It=Rt(0),Yt=Rt(1),Ht=(Rt(2),Rt(3),Rt(4));Rt(5),Rt(6);function Xt(t){if(t.y>=0&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ut(t){if(t.y>=0&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function qt(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n].toLowerCase()]=n;return e}function Gt(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var Vt,Jt=/^\s*\d+/,Zt=/^%/,$t=/[\\^$*+?|[\]().{}]/g,Kt=function(t){return t.replace($t,"\\$&")},Qt=function(t){return new RegExp("^(?:"+t.map(Kt).join("|")+")","i")},te={"-":"",_:" ",0:"0"};function ee(t,e,n){var r=t<0?"-":"",i=String(r?-t:t),o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}!function(t){Vt=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,h=Qt(i),l=qt(i),c=Qt(o),f=qt(o),p=Qt(a),d=qt(a),y=Qt(s),g=qt(s),m=Qt(u),v=qt(u),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:void 0,d:O,e:O,f:function(t,e){return D(t,e)+"000"},H:function(t,e){return ee(t.getHours(),e,2)},I:function(t,e){return ee(t.getHours()%12||12,e,2)},j:function(t,e){return ee(1+Ft.count(Lt.floor(t),t),e,3)},L:D,m:function(t,e){return ee(t.getMonth()+1,e,2)},M:function(t,e){return ee(t.getMinutes(),e,2)},p:function(t){return i[t.getHours()>=12?1:0]},Q:F,s:T,S:function(t,e){return ee(t.getSeconds(),e,2)},u:function(t){var e=t.getDay();return 0===e?7:e},U:function(t,e){return ee(At.count(Lt.floor(t),t),e,2)},V:function(t,e){var n=t.getDay();t=n>=4||0===n?Bt.floor(t):Bt.ceil(t);var r=Lt.floor(t);return ee(Bt.count(r,t)+(4===r.getDay()?1:0),e,2)},w:function(t){return t.getDay()},W:function(t,e){return ee(jt.count(Lt.floor(t),t),e,2)},x:void 0,X:void 0,y:function(t,e){return ee(t.getFullYear()%100,e,2)},Y:function(t,e){return ee(t.getFullYear()%1e4,e,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ee(Math.floor(e/60),"0",2)+ee(e%60,"0",2)},"%":C},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:void 0,d:P,e:P,f:function(t,e){return M(t,e)+"000"},H:function(t,e){return ee(t.getUTCHours(),e,2)},I:function(t,e){return ee(t.getUTCHours()%12||12,e,2)},j:function(t,e){return ee(1+Wt.count(zt.floor(t),t),e,3)},L:M,m:function(t,e){return ee(t.getUTCMonth()+1,e,2)},M:function(t,e){return ee(t.getUTCMinutes(),e,2)},p:function(t){return i[t.getUTCHours()>=12?1:0]},Q:F,s:T,S:function(t,e){return ee(t.getUTCSeconds(),e,2)},u:function(t){var e=t.getUTCDay();return 0===e?7:e},U:function(t,e){return ee(It.count(zt.floor(t),t),e,2)},V:function(t,e){var n=t.getUTCDay();t=n>=4||0===n?Ht.floor(t):Ht.ceil(t);var r=zt.floor(t);return ee(Ht.count(r,t)+(4===r.getUTCDay()?1:0),e,4)},w:function(t){return t.getUTCDay()},W:function(t,e){return ee(Yt.count(zt.floor(t),t),e,2)},x:void 0,X:void 0,y:function(t,e){return ee(t.getUTCFullYear()%100,e,2)},Y:function(t,e){return ee(t.getUTCFullYear()%1e4,e,4)},Z:function(){return"+0000"},"%":C},_={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return k(t,e,n,r)},d:j,e:j,f:function(t,e,n){var r=Jt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(parseFloat(r[0])/1e3),n+r[0].length):-1},H:A,I:A,j:function(t,e,n){var r=Jt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1},L:function(t,e,n){var r=Jt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1},m:function(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.m=parseFloat(r[0])-1,n+r[0].length):-1},M:function(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1},p:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.p=l[r[0].toLowerCase()],n+r[0].length):-1},Q:function(t,e,n){var r=Jt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1},s:function(t,e,n){var r=Jt.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1},S:function(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1},u:function(t,e,n){var r=Jt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1},U:function(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1},V:function(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1},w:function(t,e,n){var r=Jt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1},W:function(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1},x:function(t,e,r){return k(t,n,e,r)},X:function(t,e,n){return k(t,r,e,n)},y:function(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1},Y:function(t,e,n){var r=Jt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1},Z:function(t,e,n){var r=/^(Z)|^([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1},"%":function(t,e,n){var r=Zt.exec(e.slice(n,n+1));return r?n+r[0].length:-1}};function w(t,e){return function(n){var r=Gt(1900);if(k(r,t,n+="",0)==n.length){if("Q"in r)return new Date(r.Q);if("p"in r&&(r.H=r.H%12+12*r.p),"V"in r){if(r.V<1||r.V>53)return;if("w"in r||(r.w=1),"Z"in r){var i=(o=Ut(Gt(r.y))).getUTCDay();o=i>4||0===i?Yt.ceil(o):Yt.floor(o),o=Wt.offset(o,7*(r.V-1)),r.y=o.getUTCFullYear(),r.m=o.getUTCMonth(),r.d=o.getUTCDate()+(r.w+6)%7}else{var o;i=(o=e(Gt(r.y))).getDay();o=i>4||0===i?jt.ceil(o):jt.floor(o),o=Ft.offset(o,7*(r.V-1)),r.y=o.getFullYear(),r.m=o.getMonth(),r.d=o.getDate()+(r.w+6)%7}}else if("W"in r||"U"in r){"w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0);i="Z"in r?Ut(Gt(r.y)).getUTCDay():e(Gt(r.y)).getDay();r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(i+5)%7:r.w+7*r.U-(i+6)%7}return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,Ut(r)):e(r)}}}function S(t,e){return function(n){var r=[],i=t.length,o=-1,a=0;for(n instanceof Date||(n=new Date(+n));++o<i;)if(37===t.charCodeAt(o)){r.push(t.slice(a,o));var s=t.charAt(++o),u=te[s];null!=u?s=t.charAt(++o):u="e"===s?" ":"0";var h=e[s];h&&(s=h(n,u)),r.push(s),a=o+1}return r.push(t.slice(a,o)),r.join("")}}function k(t,e,n,r){for(var i=0,o=e.length,a=n.length;i<o;){if(r>=a)return-1;var s=e.charCodeAt(i++);if(37===s){var u=e.charAt(i++),h=_[u in te?e.charAt(i++):u];if(!h||(r=h(t,n,r))<0)return-1}else if(s!=n.charCodeAt(r++))return-1}return r}function D(t,e){return ee(t.getMilliseconds(),e,3)}function O(t,e){return ee(t.getDate(),e,2)}function M(t,e){return ee(t.getUTCMilliseconds(),e,3)}function P(t,e){return ee(t.getUTCDate(),e,2)}function C(t){return"%"}function F(t){return t.getTime()}function T(t){return Math.floor(t.getTime()/1e3)}function A(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function j(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}return b.x=S(n,b),b.X=S(r,b),b.c=S(e,b),x.x=S(n,x),x.X=S(r,x),x.c=S(e,x),{format:function(t){var e=S(t,b);return e.toString=function(){return t},e},parse:function(t){var e=w(t,Xt);return e.toString=function(){return t},e},utcFormat:function(t){var e=S(t,x);return e.toString=function(){return t},e},utcParse:function(t){var e=w(t,Ut);return e.toString=function(){return t},e}}}(t)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var ne=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),re=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ie=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="time",e.year=Lt,e.month=Et,e.week=At,e.day=Ft,e.hour=Ct,e.minute=Pt,e.second=Mt,e.millisecond=Ot,e.format=Vt.format,e.tickIntervals=[[e.second,1,1e3],[e.second,5,5e3],[e.second,15,15e3],[e.second,30,3e4],[e.minute,1,6e4],[e.minute,5,3e5],[e.minute,15,9e5],[e.minute,30,18e5],[e.hour,1,36e5],[e.hour,3,108e5],[e.hour,6,216e5],[e.hour,12,432e5],[e.day,1,864e5],[e.day,2,1728e5],[e.week,1,6048e5],[e.month,1,2592e6],[e.month,3,7776e6],[e.year,1,31536e6]],e.formatMillisecond=e.format(".%L"),e.formatSecond=e.format(":%S"),e.formatMinute=e.format("%I:%M"),e.formatHour=e.format("%I %p"),e.formatDay=e.format("%a %d"),e.formatWeek=e.format("%b %d"),e.formatMonth=e.format("%B"),e.formatYear=e.format("%Y"),e._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],e}return ne(e,t),e.prototype.defaultTickFormat=function(t){return(this.second.floor(t)<t?this.formatMillisecond:this.minute.floor(t)<t?this.formatSecond:this.hour.floor(t)<t?this.formatMinute:this.day.floor(t)<t?this.formatHour:this.month.floor(t)<t?this.week.floor(t)<t?this.formatDay:this.formatWeek:this.year.floor(t)<t?this.formatMonth:this.formatYear)(t)},e.prototype.tickInterval=function(t,e,n,r){var i;if("number"==typeof t){var o=t,a=this.tickIntervals,s=Math.abs(n-e)/o,u=Nt(a,s,(function(t){return t[2]}));u===a.length?(r=nt(e/31536e6,n/31536e6,o),t=this.year):u?(t=(i=re(a[s/a[u-1][2]<a[u][2]/s?u-1:u],2))[0],r=i[1]):(r=Math.max(nt(e,n,t),1),t=this.millisecond)}return null==r?t:t.every(r)},Object.defineProperty(e.prototype,"domain",{get:function(){return t.prototype.getDomain.call(this).map((function(t){return new Date(t)}))},set:function(e){t.prototype.setDomain.call(this,Array.prototype.map.call(e,(function(t){return t instanceof Date?+t:+new Date(+t)})))},enumerable:!0,configurable:!0}),e.prototype.invert=function(e){return new Date(t.prototype.invert.call(this,e))},e.prototype.ticks=function(e){void 0===e&&(e=10);var n=t.prototype.getDomain.call(this),r=n[0],i=n[n.length-1],o=i<r;if(o){var a=r;r=i,i=a}var s=this.tickInterval(e,r,i),u=s?s.range(r,i+1):[];return o?u.reverse():u},e.prototype.tickFormat=function(t,e){return null==e?this.defaultTickFormat.bind(this):this.format(e)},e.prototype.nice=function(e){void 0===e&&(e=10);var n=t.prototype.getDomain.call(this),r=this.tickInterval(e,n[0],n[n.length-1]);r&&(this.domain=this._nice(n,r))},e.prototype._nice=function(t,e){var n,r,i=0,o=(t=t.slice()).length-1,a=t[i],s=t[o];return s<a&&(i=(n=re([o,i],2))[0],o=n[1],a=(r=re([s,a],2))[0],s=r[1]),t[i]=e.floor(a),t[o]=e.ceil(s),t},e}(Z);function oe(t){return t}function ae(t,e,n){for(var r,i,o,a=n||oe,s=t.length,u=-1;++u<s;)if(e(r=t[u]))for(i=o=r;++u<s;)e(r=t[u])&&(i>r&&(i=r),o<r&&(o=r));return void 0===i||void 0===o?void 0:[a(i),a(o)]}var se=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ue=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},he=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="category",e.stroke="rgb(204, 214, 235)",e.strokeWidth=1,e}return se(e,t),e}(B),le=function(t){function e(){var n=t.call(this)||this;n.id=o(n),n.seriesRect={x:0,y:0,width:0,height:0},n._context=void 0,n._container=void 0,n._data=void 0,n.padding=new L(3),n.xKey="x",n.yKey="y",n.dataType=void 0,n.xData=[],n.yData=[],n.min=void 0,n.max=void 0,n.yScale=new _t,n.axis=new he,n.highlightStyle={size:6,fill:"yellow",stroke:"silver",strokeWidth:1},n._width=100,n._height=100,n.layoutId=0,n.defaultDateFormatter=Vt.format("%m/%d/%y, %H:%M:%S"),n._onMouseMove=n.onMouseMove.bind(n),n._onMouseOut=n.onMouseOut.bind(n);var r=new c;n.rootGroup=r;var i=document.createElement("div");i.setAttribute("class","ag-sparkline-wrapper");var a=new A(document);if(n.scene=a,n.canvasElement=a.canvas.element,a.root=r,a.container=i,a.resize(n.width,n.height),n.seriesRect.width=n.width,n.seriesRect.height=n.height,-1===e.tooltipDocuments.indexOf(document)){var s=document.createElement("style");s.innerHTML="\n.ag-sparkline-tooltip-wrapper {\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n}\n\n.ag-sparkline-tooltip {\n    position: relative;\n    font: 12px arial,sans-serif;\n    border-radius: 2px;\n    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);\n    line-height: 1.7em;\n    overflow: hidden;\n    white-space: nowrap;\n    z-index: 99999;\n    background-color: rgb(255, 255, 255);\n    color: rgba(0,0,0, 0.67);\n}\n\n.ag-sparkline-tooltip-content {\n    padding: 0 7px;\n}\n\n.ag-sparkline-tooltip-title {\n    padding-left: 7px;\n}\n\n.ag-sparkline-tooltip-wrapper-hidden {\n    top: -10000px !important;\n}\n\n.ag-sparkline-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n",document.head.insertBefore(s,document.head.querySelector("style")),e.tooltipDocuments.push(document)}return n.setupDomEventListeners(n.scene.canvas.element),n}return se(e,t),Object.defineProperty(e.prototype,"context",{get:function(){return this._context},set:function(t){this._context!==t&&(this._context=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"container",{get:function(){return this._container},set:function(t){if(this._container!==t){var e=this.canvasElement.parentNode;null!=e&&e.removeChild(this.canvasElement),t&&t.appendChild(this.canvasElement),this._container=t}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data!==t&&(this._data=t,this.processData())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.scene.resize(t,this.height),this.scheduleLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.scene.resize(this.width,t),this.scheduleLayout())},enumerable:!0,configurable:!0}),e.prototype.update=function(){},e.prototype.updateYScale=function(){this.updateYScaleRange(),this.updateYScaleDomain()},e.prototype.updateYScaleDomain=function(){},e.prototype.updateYScaleRange=function(){var t=this.yScale,e=this.seriesRect;t.range=[e.height,0]},e.prototype.updateXScale=function(){var t=this.axis.type;this.xScale=this.getXScale(t),this.updateXScaleRange(),this.updateXScaleDomain()},e.prototype.updateXScaleRange=function(){this.xScale.range=[0,this.seriesRect.width]},e.prototype.updateXScaleDomain=function(){var t,e=this.xData,n=this.xScale;n instanceof _t?t=ae(e,N):n instanceof ie&&(t=ae(e,I)),this.xScale.domain=t?t.slice():e},e.prototype.getXScale=function(t){switch(void 0===t&&(t="category"),t){case"number":return new _t;case"time":return new ie;case"category":default:return new O}},e.prototype.updateAxisLine=function(){},e.prototype.updateAxes=function(){this.updateYScale(),this.updateXScale(),this.updateAxisLine()},e.prototype.updateCrosshairs=function(){this.updateXCrosshairLine(),this.updateYCrosshairLine()},e.prototype.generateNodeData=function(){return[]},e.prototype.getNodeData=function(){return[]},e.prototype.updateNodes=function(){},e.prototype.updateXCrosshairLine=function(){},e.prototype.updateYCrosshairLine=function(){},e.prototype.highlightDatum=function(t){this.updateNodes()},e.prototype.dehighlightDatum=function(){this.highlightedDatum=void 0,this.updateNodes(),this.updateCrosshairs()},e.prototype.onMouseMove=function(t){var e=this.pickClosestSeriesNodeDatum(t.offsetX,t.offsetY);if(e){var n=this.highlightedDatum;this.highlightedDatum=e,(this.highlightedDatum&&!n||this.highlightedDatum&&n&&this.highlightedDatum!==n)&&(this.highlightDatum(e),this.updateCrosshairs()),this.tooltip.enabled&&this.handleTooltip(t,e)}},e.prototype.onMouseOut=function(t){this.dehighlightDatum(),this.tooltip.toggle(!1)},e.prototype.processData=function(){var t=this.data,e=this.yData,n=this.xData;if(t&&!this.invalidData(this.data)){e.length=0,n.length=0;var r=t.length,i=this.getDataType(t);this.dataType=i;var o=this.axis.type,a="number"!==o&&"time"!==o?"category":o;if("number"===i)for(var s=0;s<r;s++){var u=s,h=t[s],l=this.getDatum(u,a),c=this.getDatum(h,"number");n.push(l),e.push(c)}else if("array"===i)for(s=0;s<r;s++){var f=t[s];if(Array.isArray(f)){u=f[0],h=f[1],l=this.getDatum(u,a),c=this.getDatum(h,"number");if(null==l)continue;n.push(l),e.push(c)}}else if("object"===i){var p=this.yKey,d=this.xKey;for(s=0;s<r;s++){if("object"==typeof(f=t[s])&&!Array.isArray(f)){u=f[d],h=f[p],l=this.getDatum(u,a),c=this.getDatum(h,"number");if(null==l)continue;n.push(l),e.push(c)}}}this.updateAxes(),this.update()}},e.prototype.getDataType=function(t){var e,n;try{for(var r=ue(t),i=r.next();!i.done;i=r.next()){var o=i.value;if(null!=o){if(N(o))return"number";if(Array.isArray(o))return"array";if("object"==typeof o)return"object"}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},e.prototype.getDatum=function(t,e){if("number"===e&&N(t)||"time"===e&&(N(t)||z(t)))return t;if("category"===e){if(R(t)||z(t)||N(t))return{toString:function(){return String(t)}};if(function(t){return!!t&&t.hasOwnProperty("toString")&&R(t.toString())}(t))return t}},Object.defineProperty(e.prototype,"layoutScheduled",{get:function(){return!!this.layoutId},enumerable:!0,configurable:!0}),e.prototype.scheduleLayout=function(){var t=this;this.layoutId&&cancelAnimationFrame(this.layoutId),this.layoutId=requestAnimationFrame((function(){t.setSparklineDimensions(),t.invalidData(t.data)||(t.updateXScaleRange(),t.updateYScaleRange(),t.updateAxisLine(),t.update(),t.layoutId=0)}))},e.prototype.setSparklineDimensions=function(){var t=this,e=t.width,n=t.height,r=t.padding,i=t.seriesRect,o=t.rootGroup,a=e-r.left-r.right,s=n-r.top-r.bottom;i.width=a,i.height=s,i.x=r.left,i.y=r.top,o.translationX=i.x,o.translationY=i.y},e.prototype.pickClosestSeriesNodeDatum=function(t,e){var n,r=this,i=1/0,o=this.rootGroup.transformPoint(t,e);return this.getNodeData().forEach((function(t){if(t.point){var e=r.getDistance(o,t.point);e<i&&(i=e,n=t)}})),n},e.prototype.getDistance=function(t,e){return Math.abs(t.x-e.x)},e.prototype.handleTooltip=function(t,e){var n=e.seriesDatum,r=this.canvasElement,i=t.clientX,o=t.clientY;null==this.tooltip.container&&(this.tooltip.container=r);var a={pageX:i,pageY:o},s=n.y,u=n.x,h=this.tooltip.enabled;if(this.tooltip.renderer){var l=this.tooltip.renderer({context:this.context,datum:n,yValue:s,xValue:u});h="string"!=typeof l&&void 0!==l.enabled?l.enabled:h}var c=h&&void 0!==n.y&&this.getTooltipHtml(e);c&&this.tooltip.show(a,c)},e.prototype.formatNumericDatum=function(t){return String(Math.round(10*t)/10)},e.prototype.formatDatum=function(t){var e=this.axis.type||"category";return"number"===e&&"number"==typeof t?this.formatNumericDatum(t):"time"===e&&(t instanceof Date||N(t))?this.defaultDateFormatter(t):String(t)},e.prototype.setupDomEventListeners=function(t){t.addEventListener("mousemove",this._onMouseMove),t.addEventListener("mouseout",this._onMouseOut)},e.prototype.cleanupDomEventListeners=function(t){t.removeEventListener("mousemove",this._onMouseMove),t.removeEventListener("mouseout",this._onMouseOut)},e.prototype.invalidData=function(t){return!t||!Array.isArray(t)||0===t.length},e.prototype.destroy=function(){this.scene.container=void 0,this.container=void 0,this.cleanupDomEventListeners(this.scene.canvas.element)},e.tooltipDocuments=[],e}(B),ce=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function fe(t,e){if("string"==typeof t)return t;e=e||{};var n,r,i=t.content,o=void 0===i?e.content||"":i,a=t.title,s=void 0===a?e.title||void 0:a,u=t.color,h=void 0===u?e.color:u,l=t.backgroundColor,c=void 0===l?e.backgroundColor:l,f=t.opacity,p=void 0===f?e.opacity||1:f;if(h?(n=s?'<span class="'+pe.class+'-title"; style="color: '+h+'">'+s+"</span>":"",r='<span class="'+pe.class+'-content" style="color: '+h+'">'+o+"</span>"):(n=s?'<span class="'+pe.class+'-title">'+s+"</span>":"",r='<span class="'+pe.class+'-content">'+o+"</span>"),c){var d=X.fromString(c.toLowerCase()),y=d.r,g=d.g,m=d.b,v=(d.a,p),b=X.fromArray([y,g,m,v]).toRgbaString();return'<div class="'+pe.class+'" style="background-color: '+b+'">\n                    '+n+"\n                    "+r+"\n                </div>"}return'<div class="'+pe.class+'">\n                    '+n+"\n                    "+r+"\n                </div>"}var pe=function(t){function e(){var e=t.call(this)||this;return e.element=document.createElement("div"),e.enabled=!0,e.container=void 0,e.xOffset=10,e.yOffset=0,e.renderer=void 0,document.body.appendChild(e.element),e}return ce(e,t),e.prototype.isVisible=function(){var t=this.element;if(t.classList)return!t.classList.contains(e.class+"-wrapper-hidden");var n=t.getAttribute("class");return!!n&&n.split(" ").indexOf(e.class+"-wrapper-hidden")<0},e.prototype.updateClass=function(t){var n=[e.class+"-wrapper"];!0!==t&&n.push(e.class+"-wrapper-hidden"),this.element.setAttribute("class",n.join(" "))},e.prototype.show=function(t,e){this.toggle(!1);var n=this.element;if(void 0!==e)n.innerHTML=e;else if(!n.innerHTML)return;var r=t.pageX+this.xOffset,i=t.pageY+this.yOffset,o=n.getBoundingClientRect(),a=window.innerWidth-o.width;if(this.container){var s=this.container.getBoundingClientRect();a=s.left+(s.width-o.width)}r>a&&(r=t.pageX-n.clientWidth-this.xOffset),n.style.left=Math.round(r)+"px",n.style.top=Math.round(i)+"px",this.toggle(!0)},e.prototype.toggle=function(t){this.updateClass(t)},e.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element)},e.class="ag-sparkline-tooltip",e}(B),de=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ye=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._x=0,e._y=0,e._size=3,e}return de(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){this._size!==t&&(this._size=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e}(d),ge=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),me=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ge(e,t),e.prototype.isPointInPath=function(t,e){return!1},e.prototype.isPointInStroke=function(t,e){return!1},e.prototype.render=function(t){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t);var e=this.x,n=this.y,r=this.size/2;t.beginPath(),t.arc(e,n,r,0,2*Math.PI,!1),this.fillStroke(t),this.dirty=!1},e.className="Circle",e}(ye),ve=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),be=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ve(e,t),e.prototype.isPointInStroke=function(t,e){return!1},e.prototype.isPointInPath=function(t,e){return!1},e.prototype.render=function(t){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t);var e=this.x,n=this.y,r=this.size/2;t.beginPath(),t.moveTo(e,n-=r),t.lineTo(e+=r,n+=r),t.lineTo(e-=r,n+=r),t.lineTo(e-=r,n-=r),t.lineTo(e+=r,n-=r),t.closePath(),this.fillStroke(t),this.dirty=!1},e.className="Diamond",e}(ye),xe=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xe(e,t),e.prototype.isPointInStroke=function(t,e){return!1},e.prototype.isPointInPath=function(t,e){return!1},e.prototype.render=function(t){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t);var e=this.x,n=this.y,r=this.size,i=r/2;t.beginPath(),t.moveTo(e-=i,n-=i),t.lineTo(e+=r,n),t.lineTo(e,n+=r),t.lineTo(e-=r,n),t.lineTo(e,n-=r),t.closePath(),this.fillStroke(t),this.dirty=!1},e.className="Square",e}(ye);function we(t){switch(t){case"circle":return me;case"square":return _e;case"diamond":return be;default:return me}}function Se(t,e){void 0===e&&(e="solid");var n={solid:[],dash:[4,3],dot:[1,3],dashDot:[4,3,1,3],dashDotDot:[4,3,1,3,1,3],shortDot:[1,1],shortDash:[3,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],longDash:[8,3],longDashDot:[8,3,1,3],longDashDotDot:[8,3,1,3,1,3]},r={solid:[],dash:[3,3],dot:[0,3],dashDot:[3,3,0,3],dashDotDot:[3,3,0,3,0,3],shortDot:[0,2],shortDash:[2,2],shortDashDot:[2,2,0,2],shortDashDotDot:[2,2,0,2,0,2],longDash:[7,3],longDashDot:[7,3,0,3],longDashDotDot:[7,3,0,3,0,3]};return"round"===t||"square"===t?null==r[e]?(console.warn("'"+e+"' is not a valid 'lineDash' option."),r.solid):r[e]:null==n[e]?(console.warn("'"+e+"' is not a valid 'lineDash' option."),n.solid):n[e]}var ke=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),De=function(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},Oe=function(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},Me=function(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},Pe=function(t){function e(){var e=t.call(this)||this;return e.fill="rgba(124, 181, 236, 0.25)",e.strokePath=new w,e.fillPath=new w,e.xCrosshairLine=new k,e.yCrosshairLine=new k,e.areaSparklineGroup=new c,e.fillPathData=[],e.strokePathData=[],e.xAxisLine=new k,e.markers=new c,e.markerSelection=P.select(e.markers).selectAll(),e.markerSelectionData=[],e.marker=new De,e.line=new Oe,e.crosshairs=new Me,e.rootGroup.append(e.areaSparklineGroup),e.areaSparklineGroup.append([e.fillPath,e.xAxisLine,e.strokePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return ke(e,t),e.prototype.getNodeData=function(){return this.markerSelectionData},e.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.scheduleLayout()},e.prototype.update=function(){var t=this.generateNodeData();if(t){var e=t.nodeData,n=t.fillData,r=t.strokeData;this.markerSelectionData=e,this.fillPathData=n,this.strokePathData=r,this.updateSelection(e),this.updateNodes(),this.updateStroke(r),this.updateFill(n)}},e.prototype.updateYScaleDomain=function(){var t=this.yData,e=this.yScale,n=ae(t,N),r=0,i=1;void 0!==n&&(r=this.min=n[0],i=this.max=n[1]),r=r<0?r:0,i=i<0?0:i,e.domain=[r,i]},e.prototype.generateNodeData=function(){var t=this,e=t.data,n=t.yData,r=t.xData,i=t.xScale,o=t.yScale;if(e){for(var a,s,u,h,l=i instanceof O?i.bandwidth/2:0,c=n.length,f=[],p=[],d=[],y=o.convert(0),g=0;g<c;g++){var m=n[g],v=r[g],b=i.convert(v)+l,x=o.convert(m);g+1<c&&(h=i.convert(r[g+1])+l),d.push({seriesDatum:{x:v,y:m},point:{x:b,y:x}}),void 0===m&&void 0!==u?(p.push({seriesDatum:void 0,point:{x:u,y:y}}),void 0!==h&&p.push({seriesDatum:void 0,point:{x:h,y:y}})):void 0!==m&&(p.push({seriesDatum:{x:v,y:m},point:{x:b,y:x}}),f.push({seriesDatum:{x:v,y:m},point:{x:b,y:x}}),a=void 0!==a?a:b,s=b),u=b}return p.push({seriesDatum:void 0,point:{x:s,y:y}},{seriesDatum:void 0,point:{x:a,y:y}}),{nodeData:f,fillData:p,strokeData:d}}},e.prototype.updateAxisLine=function(){var t=this.xScale,e=this.yScale,n=this.axis,r=this.xAxisLine;r.x1=t.range[0],r.x2=t.range[1],r.y1=r.y2=0,r.stroke=n.stroke,r.strokeWidth=n.strokeWidth;var i=e.convert(0);r.translationY=i},e.prototype.updateSelection=function(t){var e=we(this.marker.shape),n=this.markerSelection.setData(t),r=n.enter.append(e);n.exit.remove(),this.markerSelection=n.merge(r)},e.prototype.updateNodes=function(){var t=this,e=this.highlightedDatum,n=this.highlightStyle,r=this.marker,i=n.size,o=n.fill,a=n.stroke,s=n.strokeWidth,u=r.formatter;this.markerSelection.each((function(n,h,l){var c=h.point,f=h.seriesDatum;if(c){var p,d=h===e,y=d&&void 0!==o?o:r.fill,g=d&&void 0!==a?a:r.stroke,m=d&&void 0!==s?s:r.strokeWidth,v=d&&void 0!==i?i:r.size;if(u){var b=0===l,x=l===t.markerSelectionData.length-1,_=f.y===t.min,w=f.y===t.max;p=u({datum:h,xValue:f.x,yValue:f.y,min:_,max:w,first:b,last:x,fill:y,stroke:g,strokeWidth:m,size:v,highlighted:d})}n.size=p&&null!=p.size?p.size:v,n.fill=p&&null!=p.fill?p.fill:y,n.stroke=p&&null!=p.stroke?p.stroke:g,n.strokeWidth=p&&null!=p.strokeWidth?p.strokeWidth:m,n.translationX=c.x,n.translationY=c.y,n.visible=p&&null!=p.enabled?p.enabled:r.enabled&&n.size>0}}))},e.prototype.updateStroke=function(t){var e=this.strokePath,n=this.yData,r=this.line;if(!(n.length<2)){var i=e.path,o=t.length,a=!0;i.clear();for(var s=0;s<o;s++){var u=t[s],h=u.point,l=u.seriesDatum,c=h.x,f=h.y;null==l.y?a=!0:a?(i.moveTo(c,f),a=!1):i.lineTo(c,f)}e.lineJoin=e.lineCap="round",e.fill=void 0,e.stroke=r.stroke,e.strokeWidth=r.strokeWidth}},e.prototype.updateFill=function(t){var e=this.fillPath,n=this.yData,r=this.fill,i=e.path,o=t.length;if(i.clear(),!(n.length<2)){for(var a=0;a<o;a++){var s=t[a].point,u=s.x,h=s.y;a>0?i.lineTo(u,h):i.moveTo(u,h)}i.closePath(),e.lineJoin="round",e.stroke=void 0,e.fill=r}},e.prototype.updateXCrosshairLine=function(){var t=this.yScale,e=this.xCrosshairLine,n=this.highlightedDatum,r=this.crosshairs.xLine;if(r.enabled&&null!=n){e.y1=t.range[0],e.y2=t.range[1],e.x1=e.x2=0,e.stroke=r.stroke,e.strokeWidth=r.strokeWidth||1,e.lineCap="round"===r.lineCap||"square"===r.lineCap?r.lineCap:void 0;var i=r.lineDash;e.lineDash=Array.isArray(i)?i:Se(e.lineCap,r.lineDash),e.translationX=n.point.x}else e.strokeWidth=0},e.prototype.updateYCrosshairLine=function(){var t=this.xScale,e=this.yCrosshairLine,n=this.highlightedDatum,r=this.crosshairs.yLine;if(r.enabled&&null!=n){e.x1=t.range[0],e.x2=t.range[1],e.y1=e.y2=0,e.stroke=r.stroke,e.strokeWidth=r.strokeWidth||1,e.lineCap="round"===r.lineCap||"square"===r.lineCap?r.lineCap:void 0;var i=r.lineDash;e.lineDash=Array.isArray(i)?i:Se(e.lineCap,r.lineDash),e.translationY=n.point.y}else e.strokeWidth=0},e.prototype.getTooltipHtml=function(t){var e=this.dataType,n=t.seriesDatum,r=n.y,i=n.x,o={content:this.formatNumericDatum(r),title:"array"===e||"object"===e?this.formatDatum(i):void 0};return this.tooltip.renderer?fe(this.tooltip.renderer({context:this.context,datum:n,yValue:r,xValue:i}),o):fe(o)},e.className="AreaSparkline",e}(le),Ce=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fe=function(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},Te=function(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},Ae=function(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},je=function(t){function e(){var e=t.call(this)||this;return e.linePath=new w,e.xCrosshairLine=new k,e.yCrosshairLine=new k,e.lineSparklineGroup=new c,e.markers=new c,e.markerSelection=P.select(e.markers).selectAll(),e.markerSelectionData=[],e.marker=new Fe,e.line=new Te,e.crosshairs=new Ae,e.rootGroup.append(e.lineSparklineGroup),e.lineSparklineGroup.append([e.linePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return Ce(e,t),e.prototype.getNodeData=function(){return this.markerSelectionData},e.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.scheduleLayout()},e.prototype.update=function(){var t=this.generateNodeData();t&&(this.markerSelectionData=t,this.updateSelection(t),this.updateNodes(),this.updateLine())},e.prototype.updateYScaleDomain=function(){var t=this.yData,e=this.yScale,n=ae(t,N),r=0,i=1;if(void 0!==n&&(r=this.min=n[0],i=this.max=n[1]),r===i){var o=Math.abs(.01*r);r-=o,i+=o}e.domain=[r,i]},e.prototype.generateNodeData=function(){var t=this,e=t.data,n=t.yData,r=t.xData,i=t.xScale,o=t.yScale;if(e){for(var a=i instanceof O?i.bandwidth/2:0,s=[],u=0;u<n.length;u++){var h=n[u],l=r[u];if(null!=h){var c=i.convert(l)+a,f=o.convert(h);s.push({seriesDatum:{x:l,y:h},point:{x:c,y:f}})}}return s}},e.prototype.updateSelection=function(t){var e=we(this.marker.shape),n=this.markerSelection.setData(t),r=n.enter.append(e);n.exit.remove(),this.markerSelection=n.merge(r)},e.prototype.updateNodes=function(){var t=this,e=this.highlightedDatum,n=this.highlightStyle,r=this.marker,i=n.size,o=n.fill,a=n.stroke,s=n.strokeWidth,u=r.formatter;this.markerSelection.each((function(n,h,l){var c,f=h===e,p=f&&void 0!==o?o:r.fill,d=f&&void 0!==a?a:r.stroke,y=f&&void 0!==s?s:r.strokeWidth,g=f&&void 0!==i?i:r.size,m=h.seriesDatum,v=h.point;if(u){var b=0===l,x=l===t.markerSelectionData.length-1,_=m.y===t.min,w=m.y===t.max;c=u({datum:h,xValue:m.x,yValue:m.y,min:_,max:w,first:b,last:x,fill:p,stroke:d,strokeWidth:y,size:g,highlighted:f})}n.size=c&&null!=c.size?c.size:g,n.fill=c&&null!=c.fill?c.fill:p,n.stroke=c&&null!=c.stroke?c.stroke:d,n.strokeWidth=c&&null!=c.strokeWidth?c.strokeWidth:y,n.translationX=v.x,n.translationY=v.y,n.visible=c&&null!=c.enabled?c.enabled:r.enabled&&n.size>0}))},e.prototype.updateLine=function(){var t=this,e=t.linePath,n=t.yData,r=t.xData,i=t.xScale,o=t.yScale,a=t.line;if(!(n.length<2)){var s=e.path,u=n.length,h=i instanceof O?i.bandwidth/2:0,l=!0;s.clear();for(var c=0;c<u;c++){var f=r[c],p=n[c],d=i.convert(f)+h,y=o.convert(p);null==p?l=!0:l?(s.moveTo(d,y),l=!1):s.lineTo(d,y)}e.fill=void 0,e.stroke=a.stroke,e.strokeWidth=a.strokeWidth}},e.prototype.updateXCrosshairLine=function(){var t=this.yScale,e=this.xCrosshairLine,n=this.highlightedDatum,r=this.crosshairs.xLine;if(r.enabled&&null!=n){e.y1=t.range[0],e.y2=t.range[1],e.x1=e.x2=0,e.stroke=r.stroke,e.strokeWidth=r.strokeWidth||1,e.lineCap="round"===r.lineCap||"square"===r.lineCap?r.lineCap:void 0;var i=r.lineDash;e.lineDash=Array.isArray(i)?i:Se(e.lineCap,r.lineDash),e.translationX=n.point.x}else e.strokeWidth=0},e.prototype.updateYCrosshairLine=function(){var t=this.xScale,e=this.yCrosshairLine,n=this.highlightedDatum,r=this.crosshairs.yLine;if(r.enabled&&null!=n){e.x1=t.range[0],e.x2=t.range[1],e.y1=e.y2=0,e.stroke=r.stroke,e.strokeWidth=r.strokeWidth||1,e.lineCap="round"===r.lineCap||"square"===r.lineCap?r.lineCap:void 0;var i=r.lineDash;e.lineDash=Array.isArray(i)?i:Se(e.lineCap,r.lineDash),e.translationY=n.point.y}else e.strokeWidth=0},e.prototype.getTooltipHtml=function(t){var e=this.dataType,n=t.seriesDatum,r=n.y,i=n.x,o={content:this.formatNumericDatum(r),title:"array"===e||"object"===e?this.formatDatum(i):void 0};return this.tooltip.renderer?fe(this.tooltip.renderer({context:this.context,datum:n,yValue:r,xValue:i}),o):fe(o)},e.className="LineSparkline",e}(le),Be=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ee=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._x=0,e._y=0,e._width=0,e._height=0,e._crisp=!1,e}return Be(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"crisp",{get:function(){return this._crisp},set:function(t){this._crisp!==t&&(this._crisp=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.isPointInStroke=function(t,e){return!1},e.prototype.isPointInPath=function(t,e){return!1},e.prototype.render=function(t){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t);var e=this,n=e.x,r=e.y,i=e.width,o=e.height,a=e.crisp;if(t.beginPath(),a){var s=this.alignment,u=this.align;t.rect(u(s,n),u(s,r),u(s,n,i),u(s,r,o))}else t.rect(n,r,i,o);this.fillStroke(t),this.dirty=!1},e.className="Column",e}(d),Le=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n._x=0,n._y=0,n.lineBreakRegex=/\r?\n/g,n.lines=[],n._text="",n._dirtyFont=!0,n._fontSize=10,n._fontFamily="sans-serif",n._textAlign=e.defaultStyles.textAlign,n._textBaseline=e.defaultStyles.textBaseline,n._lineHeight=14,n}Le(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){var e=String(t);this._text!==e&&(this._text=e,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=Ne(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(t){this._dirtyFont!==t&&(this._dirtyFont=t,t&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){isFinite(t)||(t=10),this._fontSize!==t&&(this._fontSize=t,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this._fontFamily!==t&&(this._fontFamily=t,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textAlign",{get:function(){return this._textAlign},set:function(t){this._textAlign!==t&&(this._textAlign=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.computeBBox=function(){return C.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},e.prototype.getPreciseBBox=function(){var t=C.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new n(this.x-t.actualBoundingBoxLeft,this.y-t.actualBoundingBoxAscent,t.width,t.actualBoundingBoxAscent+t.actualBoundingBoxDescent)},e.prototype.getApproximateBBox=function(){var t=C.getTextSize(this.text,this.font),e=this.x,r=this.y;switch(this.textAlign){case"end":case"right":e-=t.width;break;case"center":e-=t.width/2}switch(this.textBaseline){case"alphabetic":r-=.7*t.height;break;case"middle":r-=.45*t.height;break;case"ideographic":r-=t.height;break;case"hanging":r-=.2*t.height;break;case"bottom":r-=t.height}return new n(e,r,t.width,t.height)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e),r=this.computeBBox();return!!r&&r.containsPoint(n.x,n.y)},e.prototype.isPointInStroke=function(t,e){return!1},e.prototype.render=function(t){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t);var e=this.fill,n=this.stroke,r=this.strokeWidth;t.font=this.font,t.textAlign=this.textAlign,t.textBaseline=this.textBaseline;var i=this.scene.canvas.pixelRatio||1,o=t.globalAlpha;if(e){t.fillStyle=e,t.globalAlpha=o*this.opacity*this.fillOpacity;var a=this.fillShadow,s=this.text,u=this.x,h=this.y;a&&a.enabled&&(t.shadowColor=a.color,t.shadowOffsetX=a.xOffset*i,t.shadowOffsetY=a.yOffset*i,t.shadowBlur=a.blur*i),t.fillText(s,u,h)}if(n&&r){t.strokeStyle=n,t.lineWidth=r,t.globalAlpha=o*this.opacity*this.strokeOpacity;var l=this,c=l.lineDash,f=l.lineDashOffset,p=l.lineCap,d=l.lineJoin,y=l.strokeShadow;s=l.text,u=l.x,h=l.y;c&&t.setLineDash(c),f&&(t.lineDashOffset=f),p&&(t.lineCap=p),d&&(t.lineJoin=d),y&&y.enabled&&(t.shadowColor=y.color,t.shadowOffsetX=y.xOffset*i,t.shadowOffsetY=y.yOffset*i,t.shadowBlur=y.blur*i),t.strokeText(s,u,h)}this.dirty=!1}},e.className="Text",e.defaultStyles=f(d.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"})}(d);function Ne(t,e,n,r){return[n||"",r||"",t+"px",e].join(" ").trim()}var We=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ze=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Re=function(t){function e(){var e=t.call(this)||this;return e.enabled=!0,e.fontSize=8,e.fontFamily="Verdana, sans-serif",e.color="rgba(70, 70, 70, 1)",e}return We(e,t),e.prototype.getFont=function(){return Ne(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},ze([E("change","dataChange")],e.prototype,"enabled",void 0),ze([E("change")],e.prototype,"fontSize",void 0),ze([E("change")],e.prototype,"fontFamily",void 0),ze([E("change")],e.prototype,"fontStyle",void 0),ze([E("change")],e.prototype,"fontWeight",void 0),ze([E("change")],e.prototype,"color",void 0),e}(B),Ie=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ye=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n._x=0,n._y=0,n.lineBreakRegex=/\r?\n/g,n.lines=[],n._text="",n._dirtyFont=!0,n._fontSize=10,n._fontFamily="sans-serif",n._textAlign=e.defaultStyles.textAlign,n._textBaseline=e.defaultStyles.textBaseline,n._lineHeight=14,n}return Ie(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){var e=String(t);this._text!==e&&(this._text=e,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){var t,e,n,r;return this.dirtyFont&&(this.dirtyFont=!1,this._font=(t=this.fontSize,e=this.fontFamily,n=this.fontStyle,r=this.fontWeight,[n||"",r||"",t+"px",e].join(" ").trim())),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(t){this._dirtyFont!==t&&(this._dirtyFont=t,t&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){isFinite(t)||(t=10),this._fontSize!==t&&(this._fontSize=t,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this._fontFamily!==t&&(this._fontFamily=t,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textAlign",{get:function(){return this._textAlign},set:function(t){this._textAlign!==t&&(this._textAlign=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.computeBBox=function(){return C.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},e.prototype.getPreciseBBox=function(){var t=C.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new n(this.x-t.actualBoundingBoxLeft,this.y-t.actualBoundingBoxAscent,t.width,t.actualBoundingBoxAscent+t.actualBoundingBoxDescent)},e.prototype.getApproximateBBox=function(){var t=C.getTextSize(this.text,this.font),e=this.x,r=this.y;switch(this.textAlign){case"end":case"right":e-=t.width;break;case"center":e-=t.width/2}switch(this.textBaseline){case"alphabetic":r-=.7*t.height;break;case"middle":r-=.45*t.height;break;case"ideographic":r-=t.height;break;case"hanging":r-=.2*t.height;break;case"bottom":r-=t.height}return new n(e,r,t.width,t.height)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e),r=this.computeBBox();return!!r&&r.containsPoint(n.x,n.y)},e.prototype.isPointInStroke=function(t,e){return!1},e.prototype.render=function(t){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t);var e=this.fill,n=this.stroke,r=this.strokeWidth;t.font=this.font,t.textAlign=this.textAlign,t.textBaseline=this.textBaseline;var i=this.scene.canvas.pixelRatio||1,o=t.globalAlpha;if(e){t.fillStyle=e,t.globalAlpha=o*this.opacity*this.fillOpacity;var a=this.fillShadow,s=this.text,u=this.x,h=this.y;a&&a.enabled&&(t.shadowColor=a.color,t.shadowOffsetX=a.xOffset*i,t.shadowOffsetY=a.yOffset*i,t.shadowBlur=a.blur*i),t.fillText(s,u,h)}if(n&&r){t.strokeStyle=n,t.lineWidth=r,t.globalAlpha=o*this.opacity*this.strokeOpacity;var l=this,c=l.lineDash,f=l.lineDashOffset,p=l.lineCap,d=l.lineJoin,y=l.strokeShadow;s=l.text,u=l.x,h=l.y;c&&t.setLineDash(c),f&&(t.lineDashOffset=f),p&&(t.lineCap=p),d&&(t.lineJoin=d),y&&y.enabled&&(t.shadowColor=y.color,t.shadowOffsetX=y.xOffset*i,t.shadowOffsetY=y.yOffset*i,t.shadowBlur=y.blur*i),t.strokeText(s,u,h)}this.dirty=!1}},e.className="Text",e.defaultStyles=f(d.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),e}(d);var He,Xe,Ue=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t[t.Rect=0]="Rect",t[t.Label=1]="Label"}(He||(He={})),function(t){t.InsideBase="insideBase",t.InsideEnd="insideEnd",t.Center="center",t.OutsideEnd="outsideEnd"}(Xe||(Xe={}));var qe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e.placement=Xe.InsideEnd,e}return Ue(e,t),e}(Re),Ge=function(t){function e(){var e=t.call(this)||this;return e.fill="rgb(124, 181, 236)",e.stroke="silver",e.strokeWidth=0,e.paddingInner=.1,e.paddingOuter=.2,e.valueAxisDomain=void 0,e.formatter=void 0,e.axisLine=new k,e.sparklineGroup=new c,e.rectGroup=new c,e.labelGroup=new c,e.rectSelection=P.select(e.rectGroup).selectAll(),e.labelSelection=P.select(e.labelGroup).selectAll(),e.nodeSelectionData=[],e.label=new qe,e.rootGroup.append(e.sparklineGroup),e.sparklineGroup.append([e.rectGroup,e.axisLine,e.labelGroup]),e.axisLine.lineCap="round",e.label.enabled=!1,e}return Ue(e,t),e.prototype.getNodeData=function(){return this.nodeSelectionData},e.prototype.update=function(){this.updateSelections(),this.updateNodes()},e.prototype.updateSelections=function(){var t=this.generateNodeData();t&&(this.nodeSelectionData=t,this.updateRectSelection(t),this.updateLabelSelection(t))},e.prototype.updateNodes=function(){this.updateRectNodes(),this.updateLabelNodes()},e.prototype.updateYScaleDomain=function(){var t=this.yScale,e=this.yData,n=this.valueAxisDomain,r=ae(e,N),i=0,o=1;void 0!==r&&(i=this.min=r[0],o=this.max=r[1]),i=i<0?i:0,o=o<0?0:o,n&&(n[1]<o&&(n[1]=o),n[0]>i&&(n[0]=i)),t.domain=n||[i,o]},e.prototype.updateRectSelection=function(t){var e=this.rectSelection.setData(t),n=e.enter.append(Ee);e.exit.remove(),this.rectSelection=e.merge(n)},e.prototype.updateRectNodes=function(){var t=this,e=this,n=e.highlightedDatum,r=e.formatter,i=e.fill,o=e.stroke,a=e.strokeWidth,s=this.highlightStyle,u=s.fill,h=s.stroke,l=s.strokeWidth;this.rectSelection.each((function(e,s,c){var f,p=s===n,d=p&&void 0!==u?u:i,y=p&&void 0!==h?h:o,g=p&&void 0!==l?l:a,m=s.x,v=s.y,b=s.width,x=s.height,_=s.seriesDatum;if(r){var w=0===c,S=c===t.nodeSelectionData.length-1,k=_.y===t.min,D=_.y===t.max;f=r({datum:s,xValue:_.x,yValue:_.y,width:b,height:x,min:k,max:D,first:w,last:S,fill:d,stroke:y,strokeWidth:g,highlighted:p})}e.fill=f&&f.fill||d,e.stroke=f&&f.stroke||y,e.strokeWidth=f&&f.strokeWidth||g,e.x=e.y=0,e.width=b,e.height=x,e.visible=e.height>0,e.translationX=m,e.translationY=v}))},e.prototype.updateLabelSelection=function(t){var e=this.labelSelection.setData(t),n=e.enter.append(Ye).each((function(t){t.tag=He.Label,t.pointerEvents=a.None}));e.exit.remove(),this.labelSelection=e.merge(n)},e.prototype.updateLabelNodes=function(){var t=this.label,e=t.enabled,n=t.fontStyle,r=t.fontWeight,i=t.fontSize,o=t.fontFamily,a=t.color;this.labelSelection.each((function(t,s){var u=s.label;u&&e?(t.fontStyle=n,t.fontWeight=r,t.fontSize=i,t.fontFamily=o,t.textAlign=u.textAlign,t.textBaseline=u.textBaseline,t.text=u.text,t.x=u.x,t.y=u.y,t.fill=a,t.visible=!0):t.visible=!1}))},e.prototype.getTooltipHtml=function(t){var e=this.dataType,n=t.seriesDatum,r=n.y,i=n.x,o={content:this.formatNumericDatum(r),title:"array"===e||"object"===e?this.formatDatum(i):void 0};return this.tooltip.renderer?fe(this.tooltip.renderer({context:this.context,datum:n,yValue:r,xValue:i}),o):fe(o)},e.prototype.formatLabelValue=function(t){return t%1!=0?t.toFixed(1):t.toFixed(0)},e}(le),Ve=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Je=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ve(e,t),e.prototype.updateYScaleRange=function(){var t=this.seriesRect;this.yScale.range=[0,t.width]},e.prototype.updateXScaleRange=function(){var t=this,e=t.xScale,n=t.seriesRect,r=t.paddingOuter,i=t.paddingInner,o=t.xData;e instanceof O?(e.range=[0,n.height],e.paddingInner=i,e.paddingOuter=r):e.range=[0,n.height-n.height/o.length]},e.prototype.updateAxisLine=function(){var t=this.yScale,e=this.axis,n=this.axisLine,r=this.seriesRect,i=e.strokeWidth;n.x1=0,n.x2=0,n.y1=0,n.y2=r.height,n.stroke=e.stroke,n.strokeWidth=i+(i%2==1?1:0);var o=t.convert(0);n.translationX=o},e.prototype.generateNodeData=function(){var t=this,e=t.data,n=t.yData,r=t.xData,i=t.xScale,o=t.yScale,a=t.fill,s=t.stroke,u=t.strokeWidth,h=t.label;if(e){for(var l=h.fontStyle,c=h.fontWeight,f=h.fontSize,p=h.fontFamily,d=h.color,y=h.formatter,g=h.placement,m=[],v=o.convert(0),b=0,x=n.length;b<x;b++){var _=n[b],w=r[b],S=void 0===_;S&&(_=0);var k=i.convert(w),D=Math.min(o.convert(_),v),M=Math.max(o.convert(_),v),P=i instanceof O?i.bandwidth:Math.abs(o.range[1]-o.range[0])/e.length,F=M-D,T={x:v,y:k},A=void 0;A=y?y({value:_}):void 0!==_&&N(_)?this.formatLabelValue(_):"";var j=k+P/2,B=void 0,E=void 0,L=void 0!==_&&_>=0;if(g===Xe.Center)B=D+F/2,E="center";else if(g===Xe.OutsideEnd)B=D+(L?F+4:-4),E=L?"start":"end";else if(g===Xe.InsideEnd){B=D+(L?F-4:4),E=L?"end":"start";var W=C.getTextSize(A,p).width||20;(L&&B<v+W||!L&&B>v-W)&&(B=v+4*(L?1:-1),E=L?"start":"end")}else B=v+4*(L?1:-1),E=L?"start":"end";m.push({x:D,y:k,width:F,height:P,fill:a,stroke:s,strokeWidth:u,seriesDatum:{x:w,y:S?void 0:_},point:T,label:{x:B,y:j,text:A,fontStyle:l,fontWeight:c,fontSize:f,fontFamily:p,textAlign:E,textBaseline:"middle",fill:d}})}return m}},e.prototype.getDistance=function(t,e){return Math.abs(t.y-e.y)},e.className="BarSparkline",e}(Ge),Ze=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ze(e,t),e.prototype.updateYScaleRange=function(){var t=this.seriesRect;this.yScale.range=[t.height,0]},e.prototype.updateXScaleRange=function(){var t=this,e=t.xScale,n=t.seriesRect,r=t.paddingOuter,i=t.paddingInner,o=t.xData;e instanceof O?(e.range=[0,n.width],e.paddingInner=i,e.paddingOuter=r):e.range=[0,n.width-n.width/o.length]},e.prototype.updateAxisLine=function(){var t=this.yScale,e=this.axis,n=this.axisLine,r=this.seriesRect,i=e.strokeWidth;n.x1=0,n.x2=r.width,n.y1=0,n.y2=0,n.stroke=e.stroke,n.strokeWidth=i+(i%2==1?1:0);var o=t.convert(0);n.translationY=o},e.prototype.generateNodeData=function(){var t=this,e=t.data,n=t.yData,r=t.xData,i=t.xScale,o=t.yScale,a=t.fill,s=t.stroke,u=t.strokeWidth,h=t.label;if(e){for(var l=h.fontStyle,c=h.fontWeight,f=h.fontSize,p=h.fontFamily,d=h.color,y=h.formatter,g=h.placement,m=[],v=o.convert(0),b=0,x=n.length;b<x;b++){var _=n[b],w=r[b],S=void 0===_;S&&(_=0);var k=Math.min(o.convert(_),v),D=i.convert(w),M=Math.max(o.convert(_),v),P=i instanceof O?i.bandwidth:Math.abs(o.range[1]-o.range[0])/e.length,F=M-k,T={x:D+P/2,y:v},A=void 0;A=y?y({value:_}):void 0!==_&&N(_)?this.formatLabelValue(_):"";var j=D+P/2,B=void 0,E=void 0,L=void 0!==_&&_>=0;if(g===Xe.Center)B=k+F/2,E="middle";else if(g===Xe.OutsideEnd)B=k+(L?-2:F+2),E=L?"bottom":"top";else if(g===Xe.InsideEnd){B=k+(L?2:F-2),E=L?"top":"bottom";var W=C.getTextSize(A,p).height||10;(L&&B>v-W||!L&&B<v+W)&&(B=v+2*(L?-1:1),E=L?"bottom":"top")}else B=v+2*(L?-1:1),E=L?"bottom":"top";m.push({x:D,y:k,width:P,height:F,fill:a,stroke:s,strokeWidth:u,seriesDatum:{x:w,y:S?void 0:_},point:T,label:{x:j,y:B,text:A,fontStyle:l,fontWeight:c,fontSize:f,fontFamily:p,textAlign:"center",textBaseline:E,fill:d}})}return m}},e.className="ColumnSparkline",e}(Ge),Ke=function(){function t(){}return t.create=function(t,e){var n=function(t){void 0===t&&(t="line");switch(t){case"column":return new $e;case"bar":return new Je;case"area":return new Pe;case"line":default:return new je}}((t=Object.create(t)).type);return e&&(n.tooltip=e),function(t,e){un(t,"context",e.context,e),un(t,"width",e.width,e),un(t,"height",e.height,e),un(t,"container",e.container,e),un(t,"xKey",e.xKey,e),un(t,"yKey",e.yKey,e),e.padding&&function(t,e){un(t,"top",e.top,e),un(t,"right",e.right,e),un(t,"bottom",e.bottom,e),un(t,"left",e.left,e)}(t.padding,e.padding);e.axis&&function(t,e){un(t,"type",e.type,e),un(t,"stroke",e.stroke,e),un(t,"strokeWidth",e.strokeWidth,e)}(t.axis,e.axis);e.highlightStyle&&function(t,e){un(t,"fill",e.fill,e),un(t,"size",e.size,e),un(t,"stroke",e.stroke,e),un(t,"strokeWidth",e.strokeWidth,e)}(t.highlightStyle,e.highlightStyle);e.tooltip&&t.tooltip&&function(t,e){un(t,"enabled",e.enabled,e),un(t,"container",e.container,e),un(t,"xOffset",e.xOffset,e),un(t,"yOffset",e.yOffset,e),un(t,"renderer",e.renderer,e)}(t.tooltip,e.tooltip)}(n,t),function(t,e){switch(e.type){case"bar":case"column":Qe(t,e);break;case"area":!function(t,e){un(t,"fill",e.fill,e),e.marker&&tn(t.marker,e.marker);e.line&&en(t.line,e.line);e.crosshairs&&nn(t.crosshairs,e.crosshairs)}(t,e);break;case"line":default:!function(t,e){e.marker&&tn(t.marker,e.marker);e.line&&en(t.line,e.line);e.crosshairs&&nn(t.crosshairs,e.crosshairs)}(t,e)}}(n,t),t.data&&(n.data=t.data),n},t}();function Qe(t,e){un(t,"valueAxisDomain",e.valueAxisDomain,e),un(t,"fill",e.fill,e),un(t,"stroke",e.stroke,e),un(t,"strokeWidth",e.strokeWidth,e),un(t,"paddingInner",e.paddingInner,e),un(t,"paddingOuter",e.paddingOuter,e),un(t,"formatter",e.formatter,e),e.label&&function(t,e){un(t,"enabled",e.enabled,e),un(t,"fontStyle",e.fontStyle,e),un(t,"fontWeight",e.fontWeight,e),un(t,"fontSize",e.fontSize,e),un(t,"fontFamily",e.fontFamily,e),un(t,"textAlign",e.textAlign,e),un(t,"textBaseline",e.textBaseline,e),un(t,"color",e.color,e),un(t,"formatter",e.formatter,e),un(t,"placement",e.placement,e)}(t.label,e.label)}function tn(t,e){un(t,"enabled",e.enabled,e),un(t,"size",e.size,e),un(t,"shape",e.shape,e),un(t,"fill",e.fill,e),un(t,"stroke",e.stroke,e),un(t,"strokeWidth",e.strokeWidth,e),un(t,"formatter",e.formatter,e)}function en(t,e){un(t,"stroke",e.stroke,e),un(t,"strokeWidth",e.strokeWidth,e)}function nn(t,e){t.xLine&&e.xLine&&rn(t.xLine,e.xLine),t.yLine&&e.yLine&&rn(t.yLine,e.yLine)}function rn(t,e){un(t,"enabled",e.enabled,e),un(t,"stroke",e.stroke,e),un(t,"strokeWidth",e.strokeWidth,e),un(t,"lineDash",e.lineDash,e),un(t,"lineCap",e.lineCap,e)}var on={};var an=function(t,e,n){if(N(e))return!0;var r,i,o="AG Charts: "+t+" must be a number, the value you provided is not a valid number. Using the default of "+n+"px.";return r=function(){return console.warn(o)},on[i=t+" not a number"]||(r(),on[i]=!0),!1},sn={xOffset:an,yOffset:an};function un(t,e,n,r){if(e in r)if(e in t){var i=sn[e];(!i||i(e,n,t[e]))&&t[e]!==n&&(t[e]=n)}else console.warn("Property "+e+" does not exist on the target object.")}var hn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ln=function(){return(ln=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},cn=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},fn=function(e){function n(){return e.call(this,n.TEMPLATE)||this}return hn(n,e),n.prototype.init=function(t){var e=this,n=!0,r=this.resizeObserverService.observeResize(this.getGui(),(function(){var r=e.getGui(),i=r.clientWidth,o=r.clientHeight;if(0!==i&&0!==o)if(n){var a=ln({data:t.value,width:i,height:o,context:{data:t.data}},t.sparklineOptions);e.sparkline=Ke.create(a,e.sparklineTooltipSingleton.getSparklineTooltip()),e.eSparkline.appendChild(e.sparkline.canvasElement),n=!1}else e.sparkline.width=i,e.sparkline.height=o}));this.addDestroyFunc((function(){return r()}))},n.prototype.refresh=function(t){return!!this.sparkline&&(this.sparkline.data=t.value,!0)},n.prototype.destroy=function(){this.sparkline&&this.sparkline.destroy(),e.prototype.destroy.call(this)},n.TEMPLATE='<div class="ag-sparkline-wrapper">\n            <span ref="eSparkline"></span>\n        </div>',cn([t.RefSelector("eSparkline")],n.prototype,"eSparkline",void 0),cn([t.Autowired("resizeObserverService")],n.prototype,"resizeObserverService",void 0),cn([t.Autowired("sparklineTooltipSingleton")],n.prototype,"sparklineTooltipSingleton",void 0),n}(t.Component),pn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dn=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},yn=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return pn(n,e),n.prototype.postConstruct=function(){this.tooltip=new pe},n.prototype.getSparklineTooltip=function(){return this.tooltip},n.prototype.destroyTooltip=function(){this.tooltip&&this.tooltip.destroy()},dn([t.PostConstruct],n.prototype,"postConstruct",null),dn([t.PreDestroy],n.prototype,"destroyTooltip",null),n=dn([t.Bean("sparklineTooltipSingleton")],n)}(t.BeanStub),gn={moduleName:t.ModuleNames.SparklinesModule,beans:[yn],userComponents:[{componentName:"agSparklineCellRenderer",componentClass:fn}],dependantModules:[e.EnterpriseCoreModule]};exports.SparklinesModule=gn;