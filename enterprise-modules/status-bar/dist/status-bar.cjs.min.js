/**
 * @ag-grid-enterprise/status-bar - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v27.0.1
 * @link http://www.ag-grid.com/
' * @license Commercial
 */

/**
 * @ag-grid-enterprise/status-bar - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v27.0.1
 * @link http://www.ag-grid.com/
' * @license Commercial
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t,e=require("@ag-grid-community/core"),o=require("@ag-grid-enterprise/core"),n=(t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)},function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}),r=function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},i=function(t){function o(){var e=t.call(this)||this;return e.allComponents={},e}return n(o,t),o.prototype.registerStatusPanel=function(t,e){this.allComponents[t]=e},o.prototype.getStatusPanel=function(t){return this.allComponents[t]},o=r([e.Bean("statusBarService")],o)}(e.BeanStub),a=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),s=function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},p=function(t){function o(){return t.call(this,o.TEMPLATE)||this}return a(o,t),o.prototype.postConstruct=function(){if(this.gridOptions.statusBar&&this.gridOptions.statusBar.statusPanels){var t=this.gridOptions.statusBar.statusPanels.filter((function(t){return"left"===t.align}));this.createAndRenderComponents(t,this.eStatusBarLeft);var e=this.gridOptions.statusBar.statusPanels.filter((function(t){return"center"===t.align}));this.createAndRenderComponents(e,this.eStatusBarCenter);var o=this.gridOptions.statusBar.statusPanels.filter((function(t){return!t.align||"right"===t.align}));this.createAndRenderComponents(o,this.eStatusBarRight)}else this.setDisplayed(!1)},o.prototype.createAndRenderComponents=function(t,o){var n=this,r=[];t.forEach((function(t){var e={api:n.gridOptionsWrapper.getApi(),columnApi:n.gridOptionsWrapper.getColumnApi(),context:n.gridOptionsWrapper.getContext()},o=n.userComponentFactory.getStatusPanelCompDetails(t,e).newAgStackInstance();o&&r.push({key:t.key||t.statusPanel,promise:o})})),e.AgPromise.all(r.map((function(t){return t.promise}))).then((function(){r.forEach((function(t){t.promise.then((function(e){var r=function(){n.getContext().destroyBean(e)};n.isAlive()?(n.statusBarService.registerStatusPanel(t.key,e),o.appendChild(e.getGui()),n.addDestroyFunc(r)):r()}))}))}))},o.TEMPLATE='<div class="ag-status-bar">\n            <div ref="eStatusBarLeft" class="ag-status-bar-left" role="status"></div>\n            <div ref="eStatusBarCenter" class="ag-status-bar-center" role="status"></div>\n            <div ref="eStatusBarRight" class="ag-status-bar-right" role="status"></div>\n        </div>',s([e.Autowired("gridOptions")],o.prototype,"gridOptions",void 0),s([e.Autowired("userComponentFactory")],o.prototype,"userComponentFactory",void 0),s([e.Autowired("statusBarService")],o.prototype,"statusBarService",void 0),s([e.RefSelector("eStatusBarLeft")],o.prototype,"eStatusBarLeft",void 0),s([e.RefSelector("eStatusBarCenter")],o.prototype,"eStatusBarCenter",void 0),s([e.RefSelector("eStatusBarRight")],o.prototype,"eStatusBarRight",void 0),s([e.PostConstruct],o.prototype,"postConstruct",null),o}(e.Component),u=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),c=function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},l=function(t){function o(){return t.call(this,o.TEMPLATE)||this}return u(o,t),o.prototype.setLabel=function(t,e){this.setDisplayed(!1);var o=this.gridOptionsWrapper.getLocaleTextFunc();this.eLabel.innerHTML=o(t,e)},o.prototype.setValue=function(t){this.eValue.innerHTML=t},o.TEMPLATE='<div class="ag-status-name-value">\n            <span ref="eLabel"></span>:&nbsp;\n            <span ref="eValue" class="ag-status-name-value-value"></span>\n        </div>',c([e.RefSelector("eLabel")],o.prototype,"eLabel",void 0),c([e.RefSelector("eValue")],o.prototype,"eValue",void 0),o}(e.Component),g=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),d=function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},f=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return g(o,t),o.prototype.postConstruct=function(){"clientSide"===this.gridApi.getModel().getType()?(this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,e.Events.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this))):console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.")},o.prototype.onDataChanged=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),o=t("thousandSeparator",","),n=t("decimalSeparator","."),r=e._.formatNumberCommas(this.getFilteredRowCountValue(),o,n),i=e._.formatNumberCommas(this.getTotalRowCount(),o,n);if(r===i)this.setValue(r);else{var a=this.gridOptionsWrapper.getLocaleTextFunc();this.setValue(r+" "+a("of","of")+" "+i)}},o.prototype.getFilteredRowCountValue=function(){var t=0;return this.gridApi.forEachNodeAfterFilter((function(e){e.group||t++})),t},o.prototype.getTotalRowCount=function(){var t=0;return this.gridApi.forEachNode((function(e){e.group||t++})),t},o.prototype.init=function(){},o.prototype.destroy=function(){t.prototype.destroy.call(this)},d([e.Autowired("gridApi")],o.prototype,"gridApi",void 0),d([e.PostConstruct],o.prototype,"postConstruct",null),o}(l),h=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),y=function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},m=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return h(o,t),o.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),"clientSide"===this.gridApi.getModel().getType()){this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var t=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,e.Events.EVENT_MODEL_UPDATED,t)}else console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.")},o.prototype.onDataChanged=function(){var t=this.getTotalRowCountValue(),o=this.getFilteredRowCountValue(),n=this.gridOptionsWrapper.getLocaleTextFunc(),r=n("thousandSeparator",","),i=n("decimalSeparator",".");this.setValue(e._.formatNumberCommas(o,r,i)),this.setDisplayed(t!==o)},o.prototype.getTotalRowCountValue=function(){var t=0;return this.gridApi.forEachNode((function(e){return t+=1})),t},o.prototype.getFilteredRowCountValue=function(){var t=0;return this.gridApi.forEachNodeAfterFilter((function(e){e.group||(t+=1)})),t},o.prototype.init=function(){},o.prototype.destroy=function(){t.prototype.destroy.call(this)},y([e.Autowired("gridApi")],o.prototype,"gridApi",void 0),y([e.PostConstruct],o.prototype,"postConstruct",null),o}(l),v=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),C=function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},A=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return v(o,t),o.prototype.postConstruct=function(){this.setLabel("totalRows","Total Rows"),"clientSide"===this.gridApi.getModel().getType()?(this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,e.Events.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this))):console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.")},o.prototype.onDataChanged=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),o=t("thousandSeparator",","),n=t("decimalSeparator",".");this.setValue(e._.formatNumberCommas(this.getRowCountValue(),o,n))},o.prototype.getRowCountValue=function(){var t=0;return this.gridApi.forEachLeafNode((function(e){return t+=1})),t},o.prototype.init=function(){},o.prototype.destroy=function(){t.prototype.destroy.call(this)},C([e.Autowired("gridApi")],o.prototype,"gridApi",void 0),C([e.PostConstruct],o.prototype,"postConstruct",null),o}(l),w=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),_=function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},O=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return w(o,t),o.prototype.postConstruct=function(){if(this.isValidRowModel()){this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count");var t=this.gridApi.getSelectedRows().length,o=this.gridOptionsWrapper.getLocaleTextFunc(),n=o("thousandSeparator",","),r=o("decimalSeparator",".");this.setValue(e._.formatNumberCommas(t,n,r)),this.setDisplayed(t>0);var i=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,e.Events.EVENT_MODEL_UPDATED,i),this.addManagedListener(this.eventService,e.Events.EVENT_SELECTION_CHANGED,i)}else console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.")},o.prototype.isValidRowModel=function(){var t=this.gridApi.getModel().getType();return"clientSide"===t||"serverSide"===t},o.prototype.onRowSelectionChanged=function(){var t=this.gridApi.getSelectedRows().length,o=this.gridOptionsWrapper.getLocaleTextFunc(),n=o("thousandSeparator",","),r=o("decimalSeparator",".");this.setValue(e._.formatNumberCommas(t,n,r)),this.setDisplayed(t>0)},o.prototype.init=function(){},o.prototype.destroy=function(){t.prototype.destroy.call(this)},_([e.Autowired("gridApi")],o.prototype,"gridApi",void 0),_([e.PostConstruct],o.prototype,"postConstruct",null),o}(l),R=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),S=function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},b=function(t){function o(){return t.call(this,o.TEMPLATE)||this}return R(o,t),o.prototype.destroy=function(){t.prototype.destroy.call(this)},o.prototype.postConstruct=function(){this.isValidRowModel()?(this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,e.Events.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,e.Events.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))):console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.")},o.prototype.isValidRowModel=function(){var t=this.gridApi.getModel().getType();return"clientSide"===t||"serverSide"===t},o.prototype.init=function(){},o.prototype.setAggregationComponentValue=function(t,o,n){var r=this.getAggregationValueComponent(t);if(e._.exists(r)&&r){var i=this.gridOptionsWrapper.getLocaleTextFunc(),a=i("thousandSeparator",","),s=i("decimalSeparator",".");r.setValue(e._.formatNumberTwoDecimalPlacesAndCommas(o,a,s)),r.setDisplayed(n)}},o.prototype.getAggregationValueComponent=function(t){var o=t+"AggregationComp",n=null,r=e._.exists(this.gridOptions.statusBar)&&this.gridOptions.statusBar?this.gridOptions.statusBar.statusPanels.find((function(t){return"agAggregationComponent"===t.statusPanel})):null;return e._.exists(r)&&r?(!e._.exists(r.statusPanelParams)||e._.exists(r.statusPanelParams)&&e._.exists(r.statusPanelParams.aggFuncs)&&e._.exists(r.statusPanelParams.aggFuncs.find((function(e){return e===t}))))&&(n=this[o]):n=this[o],n},o.prototype.onRangeSelectionChanged=function(){var t=this,o=this.rangeService?this.rangeService.getCellRanges():void 0,n=0,r=0,i=0,a=null,s=null,p={};o&&!e._.missingOrEmpty(o)&&o.forEach((function(o){for(var u=t.rangeService.getRangeStartRow(o),c=t.rangeService.getRangeEndRow(o);;){if(e._.missing(u)||!u||t.rowPositionUtils.before(c,u)||!u||!o.columns)break;o.columns.forEach((function(o){if(null!==u){var c=t.cellPositionUtils.createId({rowPinned:u.rowPinned,column:o,rowIndex:u.rowIndex});if(!p[c]){p[c]=!0;var l=t.rowRenderer.getRowNode(u);if(!e._.missing(l)){var g=t.valueService.getValue(o,l);e._.missing(g)||""===g||(g.value&&(g=g.value),"string"==typeof g&&(g=Number(g)),"number"!=typeof g||isNaN(g)||(n+=g,(null===s||g>s)&&(s=g),(null===a||g<a)&&(a=g),i++),r++)}}}})),u=t.cellNavigationService.getRowBelow(u)}}));var u=r>1,c=i>1;this.setAggregationComponentValue("count",r,u),this.setAggregationComponentValue("sum",n,c),this.setAggregationComponentValue("min",a,c),this.setAggregationComponentValue("max",s,c),this.setAggregationComponentValue("avg",n/i,c)},o.TEMPLATE='<div class="ag-status-panel ag-status-panel-aggregations">\n            <ag-name-value ref="avgAggregationComp"></ag-name-value>\n            <ag-name-value ref="countAggregationComp"></ag-name-value>\n            <ag-name-value ref="minAggregationComp"></ag-name-value>\n            <ag-name-value ref="maxAggregationComp"></ag-name-value>\n            <ag-name-value ref="sumAggregationComp"></ag-name-value>\n        </div>',S([e.Optional("rangeService")],o.prototype,"rangeService",void 0),S([e.Autowired("valueService")],o.prototype,"valueService",void 0),S([e.Autowired("cellNavigationService")],o.prototype,"cellNavigationService",void 0),S([e.Autowired("rowRenderer")],o.prototype,"rowRenderer",void 0),S([e.Autowired("gridOptions")],o.prototype,"gridOptions",void 0),S([e.Autowired("gridApi")],o.prototype,"gridApi",void 0),S([e.Autowired("cellPositionUtils")],o.prototype,"cellPositionUtils",void 0),S([e.Autowired("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),S([e.RefSelector("sumAggregationComp")],o.prototype,"sumAggregationComp",void 0),S([e.RefSelector("countAggregationComp")],o.prototype,"countAggregationComp",void 0),S([e.RefSelector("minAggregationComp")],o.prototype,"minAggregationComp",void 0),S([e.RefSelector("maxAggregationComp")],o.prototype,"maxAggregationComp",void 0),S([e.RefSelector("avgAggregationComp")],o.prototype,"avgAggregationComp",void 0),S([e.PostConstruct],o.prototype,"postConstruct",null),o}(e.Component),P={moduleName:e.ModuleNames.StatusBarModule,beans:[i],agStackComponents:[{componentName:"AgStatusBar",componentClass:p},{componentName:"AgNameValue",componentClass:l}],userComponents:[{componentName:"agAggregationComponent",componentClass:b},{componentName:"agSelectedRowCountComponent",componentClass:O},{componentName:"agTotalRowCountComponent",componentClass:A},{componentName:"agFilteredRowCountComponent",componentClass:m},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:f}],dependantModules:[o.EnterpriseCoreModule]};exports.StatusBarModule=P;