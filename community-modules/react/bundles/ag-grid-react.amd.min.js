define(["exports","prop-types","react-dom/server","react-dom","react","agGrid"],function(t,e,s,r,de,he){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var Ce="default"in de?de.default:de;class n extends class{}{constructor(e,t,r){super(),this.portal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.statelessComponent=this.isStateless(this.reactComponent)}getGui(){return this.eParentElement}destroy(){return this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)}createParentElement(e){var t=this.portalManager.getComponentWrappingElement();const r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r}addParentContainerStyleAndClasses(){if(this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle()),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses())){const e=this.componentInstance.getReactContainerClasses();e.forEach(e=>this.eParentElement.classList.add(e))}}statelessComponentRendered(){return 0<this.eParentElement.childElementCount||0<this.eParentElement.childNodes.length}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"==typeof Symbol&&Symbol.for}isStateless(e){return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){var t=this.getFrameworkComponentInstance();return!!t&&null!==t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){var r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(r){const n=r[e];return n?n.apply(r,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0}setTimeout(()=>this.callMethod(e,t))}addMethod(e,t){this[e]=t}}let a=0;function l(){return"agPortalKey_"+ ++a}class c extends n{constructor(e,t,r,n){super(e,r,n),this.staticMarkup=null,this.staticRenderTime=0,this.parentComponent=t}init(t){return this.eParentElement=this.createParentElement(t),this.renderStaticMarkup(t),new he.AgPromise(e=>this.createReactComponent(t,e))}createReactComponent(e,t){this.isStatelessComponent()||(e.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses(),this.removeStaticMarkup()});e=de.createElement(this.reactComponent,e),e=r.createPortal(e,this.eParentElement,l());this.portal=e,this.portalManager.mountReactPortal(e,this,e=>{t(e),this.isStatelessComponent()&&(this.isSlowRenderer()&&this.removeStaticMarkup(),setTimeout(()=>{this.removeStaticMarkup()}))})}fallbackMethodAvailable(e){return!1}fallbackMethod(e,t){}isSlowRenderer(){return this.staticRenderTime>=c.SLOW_RENDERING_THRESHOLD}isNullValue(){return""===this.staticMarkup}renderStaticMarkup(e){if(!this.parentComponent.isDisableStaticMarkup()&&this.componentType.cellRenderer){var t=console.error,e=de.createElement(this.reactComponent,e);try{console.error=()=>{};var r=Date.now(),n=s.renderToStaticMarkup(e);this.staticRenderTime=Date.now()-r,console.error=t,""===n?this.staticMarkup=n:n&&(this.staticMarkup=document.createElement("span"),this.staticMarkup.innerHTML=n,this.eParentElement.appendChild(this.staticMarkup))}catch(e){}finally{console.error=t}}}removeStaticMarkup(){!this.parentComponent.isDisableStaticMarkup()&&this.componentType.cellRenderer&&this.staticMarkup&&(this.staticMarkup.remove?(this.staticMarkup.remove(),this.staticMarkup=null):this.eParentElement.removeChild&&(this.eParentElement.removeChild(this.staticMarkup),this.staticMarkup=null))}rendered(){return this.isNullValue()||!!this.staticMarkup||this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}}c.SLOW_RENDERING_THRESHOLD=3;class o extends de.Component{constructor(e){super(e),this.props=e}render(){return null}static mapChildColumnDefs(e){return Ce.Children.map(e,e=>e?o.toColDef(e.props):null)}static toColDef(e){const t=e["children"],r=function(e,t){var r={};for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]]);return r}(e,["children"]);return o.hasChildColumns(t)&&(r.children=o.mapChildColumnDefs(t)),r}static hasChildColumns(e){return 0<Ce.Children.count(e)}}function u(e,t){e.forEach(e=>{o[e]=t})}u(he.ColDefUtil.BOOLEAN_PROPERTIES,e.bool),u(he.ColDefUtil.STRING_PROPERTIES,e.string),u(he.ColDefUtil.OBJECT_PROPERTIES,e.object),u(he.ColDefUtil.ARRAY_PROPERTIES,e.array),u(he.ColDefUtil.NUMBER_PROPERTIES,e.number),u(he.ColDefUtil.FUNCTION_PROPERTIES,e.func),(f=t.ChangeDetectionStrategyType||(t.ChangeDetectionStrategyType={})).IdentityCheck="IdentityCheck",f.DeepValueCheck="DeepValueCheck",f.NoCheck="NoCheck";class p{constructor(e){this.strategy=e}areEqual(e,t){return this.strategy(e,t)}}class i{areEqual(e,t){return i.areEquivalent(i.copy(e),i.copy(t))}static unwrapStringOrNumber(e){return e instanceof Number||e instanceof String?e.valueOf():e}static copy(t){if(!t)return t;if(Array.isArray(t)){const r=[];for(let e=0;e<t.length;e++)r.push(this.copy(t[e]));return r}return"object"!=typeof t?t:[{},t].reduce((t,r)=>(Object.keys(r).forEach(function(e){t[e]=r[e]}),t),{})}static isNaN(e){return Number.isNaN?Number.isNaN(e):"number"==typeof e&&isNaN(e)}static areEquivalent(t,r){if(t=i.unwrapStringOrNumber(t),r=i.unwrapStringOrNumber(r),t===r)return!0;if(null===t||null===r||typeof t!=typeof r)return!1;if(i.isNaN(t)&&i.isNaN(r))return!0;if(t instanceof Date)return r instanceof Date&&t.valueOf()===r.valueOf();if("function"==typeof t)return!1;if("object"!=typeof t||t.$$typeof&&"Symbol(react.element)"===t.$$typeof.toString())return t==r;if(Object.isFrozen(t)||Object.isFrozen(r))return t===r;var n=void 0===t.areEquivPropertyTracking,s=void 0===r.areEquivPropertyTracking;try{let e;if(n)t.areEquivPropertyTracking=[];else if(t.areEquivPropertyTracking.some(function(e){return e===r}))return!0;if(s)r.areEquivPropertyTracking=[];else if(r.areEquivPropertyTracking.some(e=>e===t))return!0;t.areEquivPropertyTracking.push(r),r.areEquivPropertyTracking.push(t);const a={};for(e in t)"areEquivPropertyTracking"!=e&&(a[e]=null);for(e in r)"areEquivPropertyTracking"!=e&&(a[e]=null);for(e in a)if(!this.areEquivalent(t[e],r[e]))return!1;return!0}finally{n&&delete t.areEquivPropertyTracking,s&&delete r.areEquivPropertyTracking}}}class m{constructor(){this.strategyMap={[t.ChangeDetectionStrategyType.DeepValueCheck]:new i,[t.ChangeDetectionStrategyType.IdentityCheck]:new p((e,t)=>e===t),[t.ChangeDetectionStrategyType.NoCheck]:new p((e,t)=>!1)}}getStrategy(e){return this.strategyMap[e]}}class d extends n{constructor(e,t,r){super(e,t,r),this.oldPortal=null,this.key=l(),this.portalKey=l()}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new he.AgPromise(e=>this.createReactComponent(e))}createOrUpdatePortal(e){this.isStatelessComponent()||(e.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses()}),this.reactElement=de.createElement(this.reactComponent,Object.assign(Object.assign({},e),{key:this.key})),this.portal=r.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createReactComponent(t){this.portalManager.mountReactPortal(this.portal,this,e=>{t(e)})}isNullValue(){return this.valueRenderedIsNull(this.params)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}valueRenderedIsNull(e){if(!this.componentType.cellRenderer)return!1;var t=console.error;try{return console.error=()=>{},""===s.renderToStaticMarkup(de.createElement(this.reactComponent,e))}catch(e){}finally{console.error=t}return!1}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[e+"Component"];if(r)return r.bind(this)(t)}fallbackMethodAvailable(e){return!!this[e+"Component"]}}class h{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.parent=e,this.maxComponentCreationTimeMs=r||h.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(t){this.portals=this.portals.filter(e=>e!==t),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||this.parent.forceUpdate(()=>{this.hasPendingPortalUpdate=!1})}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return e.isNullValue()?void t(e):void console.error(`AG Grid: React Component '${e.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms`);window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}}h.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;const ge=Ce.createContext({}),W=(e,s,a,o)=>{if(!(!e||e.componentFromFramework)){const i=e.newAgStackInstance();if(i){let t,r,n=!1;return i.then(e=>{n?s.destroyBean(e):(t=e,r=t.getGui(),a.appendChild(r),C(o,t))}),()=>{n=!0,t&&(r&&r.parentElement&&r.parentElement.removeChild(r),s.destroyBean(t),o&&C(o,void 0))}}}},C=(e,t)=>{if(e)if(e instanceof Function){const r=e;r(t)}else{const n=e;n.current=t}},U=(...e)=>{const t=e.filter(e=>null!=e&&""!==e);return t.join(" ")};class fe{constructor(){this.classesMap={}}setClass(e,t){if(!!this.classesMap[e]==t)return this;const r=new fe;return r.classesMap=Object.assign({},this.classesMap),r.classesMap[e]=t,r}toString(){return Object.keys(this.classesMap).filter(e=>this.classesMap[e]).join(" ")}}const Ee=e=>{return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===("function"==typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115)},T=de.forwardRef((r,e)=>{const n=de.useContext(ge).context,s=de.useRef(null),t=de.useRef(null),a=de.useRef(null),o=de.useRef(null),i=de.useRef(null),[l,u]=de.useState(),[p,m]=de.useState(),[c,d]=de.useState(),[h,C]=de.useState(new fe),[g,f]=de.useState(new fe),[E,y]=de.useState(new fe),[R,S]=de.useState(new fe);de.useImperativeHandle(e,()=>({refresh(){return!1}})),de.useEffect(()=>W(l,n,t.current),[l]),de.useEffect(()=>{var e={setInnerRenderer:(e,t)=>{u(e),d(t)},setChildCount:e=>m(e),addOrRemoveCssClass:(t,r)=>C(e=>e.setClass(t,r)),setContractedDisplayed:t=>y(e=>e.setClass("ag-hidden",!t)),setExpandedDisplayed:t=>f(e=>e.setClass("ag-hidden",!t)),setCheckboxVisible:t=>{S(e=>e.setClass("ag-invisible",!t))}};const t=n.createBean(new he.GroupCellRendererCtrl);return t.init(e,s.current,a.current,o.current,i.current,T,r),()=>{n.destroyBean(t)}},[]);var e=de.useMemo(()=>"ag-cell-wrapper "+h.toString(),[h]),v=de.useMemo(()=>"ag-group-expanded "+g.toString(),[g]),w=de.useMemo(()=>"ag-group-contracted "+E.toString(),[E]),O=de.useMemo(()=>"ag-group-checkbox "+R.toString(),[R]),b=l&&l.componentFromFramework,M=b?l.componentClass:void 0,I=null==l&&null!=c;return Ce.createElement("span",Object.assign({className:e,ref:s},r.colDef?{}:{role:"gridcell"}),Ce.createElement("span",{className:v,ref:o}),Ce.createElement("span",{className:w,ref:i}),Ce.createElement("span",{className:O,ref:a}),Ce.createElement("span",{className:"ag-group-value",ref:t},I&&Ce.createElement(Ce.Fragment,null,c),b&&Ce.createElement(M,Object.assign({},l.params))),Ce.createElement("span",{className:"ag-group-child-count"},p))});var v=de.memo(e=>{const u=de.useContext(ge)["context"],[t,p]=de.useState(new fe),[r,m]=de.useState(),[d,h]=de.useState(),[C,g]=de.useState(),[f,E]=de.useState(),[y,R]=de.useState(),[n,S]=de.useState(),s=de.useRef(null),a=de.useRef(null),o=de.useRef(),i=e["ctrl"];de.useEffect(()=>{var e={setWidth:e=>m(e),addOrRemoveCssClass:(t,r)=>p(e=>e.setClass(t,r)),setAriaSort:e=>E(e),setColId:e=>g(e),setTitle:e=>h(e),setAriaDescribedBy:e=>R(e),setUserCompDetails:e=>S(e),getUserCompInstance:()=>o.current||void 0},e=(i.setComp(e,s.current,a.current),i.getSelectAllGui());a.current.insertAdjacentElement("afterend",e)},[]),de.useEffect(()=>W(n,u,s.current,o),[n]),de.useEffect(()=>{let t=void 0;s.current.childNodes.forEach(e=>{null!=e&&e!==a.current&&(t=e)}),i.setDragSource(t)},[n]);var e=de.useMemo(()=>({width:r}),[r]),v=de.useMemo(()=>"ag-header-cell "+t.toString(),[t]),l=de.useMemo(()=>{return!!(n&&n.componentFromFramework&&Ee(n.componentClass))},[n]),c=n&&n.componentFromFramework,w=n&&n.componentClass;return Ce.createElement("div",{ref:s,className:v,style:e,title:d,"col-id":C,"aria-sort":f,role:"columnheader",tabIndex:-1,"aria-describedby":y},Ce.createElement("div",{ref:a,className:"ag-header-cell-resize",role:"presentation"}),c&&l&&Ce.createElement(w,Object.assign({},n.params)),c&&!l&&Ce.createElement(w,Object.assign({},n.params,{ref:o})))}),w=de.memo(e=>{const t=de.useContext(ge)["context"],[r,n]=de.useState(new fe),[s,u]=de.useState(new fe),[a,p]=de.useState(),[m,d]=de.useState(),[h,C]=de.useState(),[g,f]=de.useState(),[o,E]=de.useState(),i=de.useRef(null),l=de.useRef(null),c=e["ctrl"];de.useEffect(()=>{var e={setWidth:e=>p(e),addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),setColId:e=>C(e),setTitle:e=>d(e),setUserCompDetails:e=>E(e),addOrRemoveResizableCssClass:(t,r)=>u(e=>e.setClass(t,r)),setAriaExpanded:e=>f(e)};c.setComp(e,i.current,l.current)},[]),de.useEffect(()=>W(o,t,i.current),[o]),de.useEffect(()=>{let t=void 0;i.current.childNodes.forEach(e=>{null!=e&&e!==l.current&&(t=e)}),t&&c.setDragSource(t)},[o]);var e=de.useMemo(()=>({width:a}),[a]),y=de.useMemo(()=>"ag-header-group-cell "+r.toString(),[r]),R=de.useMemo(()=>"ag-header-cell-resize "+s.toString(),[s]),S=o&&o.componentFromFramework,v=o&&o.componentClass;return Ce.createElement("div",{ref:i,className:y,style:e,title:m,"col-id":h,role:"columnheader",tabIndex:-1,"aria-expanded":g},S&&Ce.createElement(v,Object.assign({},o.params)),Ce.createElement("div",{ref:l,className:R}))}),O=de.memo(e=>{const u=de.useContext(ge)["context"],[t,p]=de.useState(new fe),[r,m]=de.useState(new fe),[d,h]=de.useState(new fe),[n,C]=de.useState(),[s,g]=de.useState(),a=de.useRef(null),o=de.useRef(null);var f=de.useRef(null);const i=de.useRef(null),l=de.useRef(),E=de.useMemo(()=>new he.AgPromise(e=>l.current=e),[]),y=e["ctrl"];de.useEffect(()=>{var e={addOrRemoveCssClass:(t,r)=>p(e=>e.setClass(t,r)),addOrRemoveBodyCssClass:(t,r)=>m(e=>e.setClass(t,r)),addOrRemoveButtonWrapperCssClass:(t,r)=>h(e=>e.setClass(t,r)),setWidth:e=>C(e),setCompDetails:e=>g(e),getFloatingFilterComp:()=>E,setMenuIcon:e=>i.current.appendChild(e)};y.setComp(e,a.current,i.current,o.current)},[]),de.useEffect(()=>W(s,u,o.current,l.current),[s]);var e=de.useMemo(()=>({width:n}),[n]),R=de.useMemo(()=>"ag-header-cell ag-floating-filter "+t.toString(),[t]),S=de.useMemo(()=>r.toString(),[r]),v=de.useMemo(()=>"ag-floating-filter-button "+d.toString(),[r]),c=de.useMemo(()=>{return!!(s&&s.componentFromFramework&&Ee(s.componentClass))},[s]),w=s&&s.componentFromFramework,O=s&&s.componentClass;return Ce.createElement("div",{ref:a,className:R,style:e,role:"gridcell",tabIndex:-1},Ce.createElement("div",{ref:o,className:S,role:"presentation"},w&&c&&Ce.createElement(O,Object.assign({},s.params)),w&&!c&&Ce.createElement(O,Object.assign({},s.params,{ref:l.current}))),Ce.createElement("div",{ref:f,className:v,role:"presentation"},Ce.createElement("button",{ref:i,type:"button","aria-label":"Open Filter Menu",className:"ag-floating-filter-button-button",tabIndex:-1})))}),R=de.memo(e=>{const s=de.useContext(ge)["gridOptionsWrapper"],[t,r]=de.useState(),[n,a]=de.useState(),[o,i]=de.useState(),[l,u]=de.useState(),[p,m]=de.useState(),[d,h]=de.useState([]);var C=de.useRef(null);const c=e["ctrl"],g=c.getType()===he.HeaderRowType.COLUMN,f=c.getType()===he.HeaderRowType.COLUMN_GROUP,E=c.getType()===he.HeaderRowType.FLOATING_FILTER,y=de.useCallback((e,t)=>{if(s.isEnsureDomOrder())return t;const r=he._.mapById(e,e=>e.getInstanceId()),n=he._.mapById(t,e=>e.getInstanceId());e=e.filter(e=>n.has(e.getInstanceId())),t=t.filter(e=>!r.has(e.getInstanceId()));return[...e,...t]},[]);de.useEffect(()=>{var e={setTransform:e=>r(e),setHeight:e=>a(e),setTop:e=>i(e),setHeaderCtrls:t=>h(e=>y(e,t)),setWidth:e=>u(e),setAriaRowIndex:e=>m(e)};c.setComp(e)},[]);var e=de.useMemo(()=>({transform:t,height:n,top:o,width:l}),[t,n,o,l]),R=de.useMemo(()=>{const e=["ag-header-row"];return g&&e.push("ag-header-row-column"),f&&e.push("ag-header-row-column-group"),E&&e.push("ag-header-row-column-filter"),e.join(" ")},[]),S=de.useCallback(e=>{switch(c.getType()){case he.HeaderRowType.COLUMN_GROUP:return Ce.createElement(w,{ctrl:e,key:e.getInstanceId()});case he.HeaderRowType.FLOATING_FILTER:return Ce.createElement(O,{ctrl:e,key:e.getInstanceId()});default:return Ce.createElement(v,{ctrl:e,key:e.getInstanceId()})}},[]);return Ce.createElement("div",{ref:C,className:R,role:"row",style:e,"aria-rowindex":p},d.map(S))}),g=de.memo(r=>{const[e,u]=de.useState(new fe),[t,p]=de.useState(),[n,m]=de.useState(),[s,d]=de.useState(),[h,C]=de.useState([]),a=de.useContext(ge)["context"],o=de.useRef(null);var i=r.pinned===he.Constants.PINNED_LEFT,g=r.pinned===he.Constants.PINNED_RIGHT,f=!i&&!g,l=(de.useEffect(()=>{var e={addOrRemoveCssClass:(t,r)=>u(e=>e.setClass(t,r)),setCtrls:e=>C(e),setCenterWidth:e=>p(e),setContainerTransform:e=>m(e),setPinnedContainerWidth:e=>d(e)};const t=a.createBean(new he.HeaderRowContainerCtrl(r.pinned));return t.setComp(e,o.current),()=>{a.destroyBean(t)}},[]),de.useMemo(()=>e.toString(),[e])),c=()=>h.map(e=>Ce.createElement(R,{ctrl:e,key:e.getInstanceId()})),E=de.useMemo(()=>({width:t,transform:n}),[t,n]),y=de.useMemo(()=>({width:s,minWidth:s,maxWidth:s}),[s]);return Ce.createElement(Ce.Fragment,null,i&&Ce.createElement("div",{ref:o,className:"ag-pinned-left-header "+l,role:"presentation",style:y},c()),g&&Ce.createElement("div",{ref:o,className:"ag-pinned-right-header "+l,role:"presentation",style:y},c()),f&&Ce.createElement("div",{ref:o,className:"ag-header-viewport "+l,role:"presentation"},Ce.createElement("div",{className:"ag-header-container",role:"rowgroup",style:E},c())))}),j=de.memo(()=>{const[e,n]=de.useState(new fe),[t,r]=de.useState(),s=de.useContext(ge)["context"],a=de.useRef(null);de.useEffect(()=>{var e={addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),setHeightAndMinHeight:e=>r(e)};const t=s.createBean(new he.GridHeaderCtrl);return t.setComp(e,a.current,a.current),()=>{s.destroyBean(t)}},[]);var o=de.useMemo(()=>{return"ag-header "+e.toString()},[e]),i=de.useMemo(()=>({height:t,minHeight:t}),[t]);return Ce.createElement("div",{ref:a,className:o,style:i,role:"presentation"},Ce.createElement(g,{pinned:he.Constants.PINNED_LEFT}),Ce.createElement(g,{pinned:null}),Ce.createElement(g,{pinned:he.Constants.PINNED_RIGHT}))});const L=(n,s)=>{de.useEffect(()=>{var e=s.current;const t=e.parentElement;if(t){const r=document.createComment(n);return t.insertBefore(r,e),()=>{t.removeChild(r)}}},[])};var ye=de.memo(c=>{const[e,u]=de.useState(),{context:p,popupService:m,gridOptionsWrapper:d}=de.useContext(ge);return de.useEffect(()=>{const{editDetails:e,cellCtrl:t,eParentCell:r}=c;var n=e["compDetails"],s=d.isStopEditingWhenCellsLoseFocus();const a=p.createBean(new he.PopupEditorWrapper(n.params)),o=a.getGui();!c.jsChildComp||(n=c.jsChildComp.getGui())&&o.appendChild(n);n={column:t.getColumn(),rowNode:t.getRowNode(),type:"popupCellEditor",eventSource:r,ePopup:o,keepWithinBounds:!0},n=("under"===e.popupPosition?m.positionPopupUnderComponent:m.positionPopupOverComponent).bind(m,n);const i=d.getLocaleTextFunc();s=m.addPopup({modal:s,eChild:o,closeOnEsc:!0,closedCallback:()=>{t.onPopupEditorClosed()},anchorToElement:r,positionCallback:n,ariaLabel:i("ariaLabelCellEditor","Cell Editor")});const l=s?s.hideFunc:void 0;return u(a),c.jsChildComp&&c.jsChildComp.afterGuiAttached&&c.jsChildComp.afterGuiAttached(),()=>{null!=l&&l(),p.destroyBean(a)}},[]),Ce.createElement(Ce.Fragment,null,e&&c.wrappedContent&&r.createPortal(c.wrappedContent,e.getGui()))});var V=de.memo(e=>{const u=de.useContext(ge)["context"],{cellCtrl:i,printLayout:p,editingRow:m}=e,[r,d]=de.useState(),[s,h]=de.useState(),[C,g]=de.useState(1),[f,E]=de.useState(new fe),[y,R]=de.useState(),[S,v]=de.useState(),[w,O]=de.useState(),[b,M]=de.useState(),[I,T]=de.useState(),[P,D]=de.useState(),[N,k]=de.useState(),[A,F]=de.useState(),[G,x]=de.useState(),[_,B]=de.useState(!1),[U,j]=de.useState(!1),[L,H]=de.useState(!1),[W,V]=de.useState();e=de.useMemo(()=>i.isForceWrapper(),[]);const a=de.useRef(null),n=de.useRef(null),q=de.useRef(),$=de.useRef(),o=de.useRef(),[z,K]=de.useState(0);var Y=de.useCallback(e=>{o.current=e,K(e=>e+1)},[]);const X=de.useRef(),[Z,J]=de.useState(0),Q=de.useCallback(e=>{X.current=e,J(e=>e+1)},[]),t=null!=r&&(_||L||U),ee=e||t,te=de.useCallback((e,t)=>{if($.current=t){{var r=t;var n=i;const s=n.getColumn();if(!e&&r.isPopup&&r.isPopup()){const a=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.`;he._.doOnce(()=>console.warn(a),"jsEditorComp-isPopup-"+n.getColumn().getColId())}if(e&&r.getPopupPosition&&null!=r.getPopupPosition()){const o=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.`;he._.doOnce(()=>console.warn(o),"jsEditorComp-getPopupPosition-"+n.getColumn().getColId())}}t.isCancelBeforeStart&&t.isCancelBeforeStart()&&setTimeout(()=>i.stopEditing(),0)}},[]),re=de.useCallback(e=>te(!0,e),[]),ne=de.useCallback(e=>te(!1,e),[]);{var l=r,se=t,ae=X.current,c=(e=Z,q),oe=a;const pe=de.useContext(ge)["context"],me=de.useCallback(()=>{const e=c.current;if(e){const t=e.getGui();t&&t.parentElement&&t.parentElement.removeChild(t),pe.destroyBean(e),c.current=void 0}},[]);de.useEffect(()=>{var e=l&&l.compDetails&&!l.compDetails.componentFromFramework;if(null!=l&&e&&!(se&&null==ae)){const t=l.compDetails;if(c.current){const n=c.current;e=null!=n.refresh&&0==l.force&&n.refresh(t.params);if(!0===e||void 0===e)return;me()}const r=t.newAgStackInstance();if(r){const n=r.resolveNow(null,e=>e);if(n){e=n.getGui();if(e){const s=se?ae:oe.current;s.appendChild(e),c.current=n}}}}else me()},[l,se,e]),de.useEffect(()=>me,[])}const ie=de.useRef(),le=(de.useEffect(()=>{var e=ie.current,t=r;ie.current=r,null!=e&&null!=e.compDetails&&null!=t&&null!=t.compDetails&&(e=e.compDetails,t=t.compDetails,e.componentClass==t.componentClass&&null!=n.current&&null!=n.current.refresh&&1!=n.current.refresh(t.params)&&g(e=>e+1))},[r]),de.useEffect(()=>{if(s&&!s.compDetails.componentFromFramework){var e=s.compDetails;const t=!0===s.popup,r=(e=>{const t=e.newAgStackInstance();if(t)return t.resolveNow(null,e=>e)})(e);if(r){const n=r.getGui();return te(t,r),t||(a.current.appendChild(n),r.afterGuiAttached&&r.afterGuiAttached()),V(r),()=>{u.destroyBean(r),te(t,void 0),V(void 0),n&&n.parentElement&&n.parentElement.removeChild(n)}}}},[s]),de.useEffect(()=>{if(i&&u&&(D(o.current?"cell-"+i.getInstanceId():void 0),o.current&&t)){const r=[];var e=e=>{if(e){const t=e.getGui();o.current.insertAdjacentElement("afterbegin",t),r.push(()=>{u.destroyBean(e),he._.removeFromParent(t)})}return e};return _&&e(i.createSelectionCheckbox()),L&&e(i.createDndSource()),U&&e(i.createRowDragComp()),()=>{r.forEach(e=>{e()})}}},[t,L,U,_,z]),de.useEffect(()=>{var e,t;i&&(e={addOrRemoveCssClass:(t,r)=>E(e=>e.setClass(t,r)),setUserStyles:e=>R(e),setAriaSelected:e=>O(e),setAriaExpanded:e=>M(e),getFocusableElement:()=>a.current,setAriaColIndex:e=>T(e),setTabIndex:e=>v(e),setRole:e=>k(e),setColId:e=>F(e),setTitle:e=>x(e),setIncludeSelection:e=>B(e),setIncludeRowDrag:e=>j(e),setIncludeDndSource:e=>H(e),getCellEditor:()=>$.current||null,getCellRenderer:()=>n.current||q.current,getParentOfValue:()=>X.current||o.current||a.current,setRenderDetails:(e,t,r)=>{d({value:t,compDetails:e,force:r})},setEditDetails:(e,t,r)=>{e?(h({compDetails:e,popup:t,popupPosition:r}),t||d(void 0)):h(void 0)}},t=o.current||void 0,i.setComp(e,null,a.current,t,p,m))},[]),de.useMemo(()=>{return!!(r&&r.compDetails&&r.compDetails.componentFromFramework&&Ee(r.compDetails.componentClass))},[r]));e=de.useMemo(()=>{let e=f.toString();return ee||(e+=" ag-cell-value"),e},[f,t]);const ce=de.useMemo(()=>i.getInstanceId(),[]);var ue=()=>Ce.createElement(Ce.Fragment,null,null!=r&&((e,t,r,n,s,a,u)=>{const{compDetails:o,value:i}=e,p=!o,l=o&&o.componentFromFramework,c=o&&o.componentClass,m=i&&i.toString?i.toString():i;e=()=>Ce.createElement(Ce.Fragment,null,p&&Ce.createElement(Ce.Fragment,null,m),l&&!a&&Ce.createElement(c,Object.assign({},o.params,{key:t,ref:n})),l&&a&&Ce.createElement(c,Object.assign({},o.params,{key:t})));return Ce.createElement(Ce.Fragment,null,s?Ce.createElement("span",{role:"presentation",id:"cell-"+r,className:"ag-cell-value",ref:u},e()):e())})(r,C,ce,n,t,le,Q),null!=s&&((e,t,r,n,s,a)=>{var o=e.compDetails,i=o.componentClass,l=o.componentFromFramework&&!e.popup,c=o.componentFromFramework&&e.popup,o=!o.componentFromFramework&&e.popup;return Ce.createElement(Ce.Fragment,null,l&&Ce.createElement(i,Object.assign({},e.compDetails.params,{ref:t})),c&&Ce.createElement(ye,{editDetails:e,cellCtrl:s,eParentCell:n,wrappedContent:Ce.createElement(i,Object.assign({},e.compDetails.params,{ref:r}))}),o&&a&&Ce.createElement(ye,{editDetails:e,cellCtrl:s,eParentCell:n,jsChildComp:a}))})(s,ne,re,a.current,i,W));return Ce.createElement("div",{ref:a,className:e,style:y,tabIndex:S,"aria-selected":w,"aria-colindex":I,role:N,"aria-expanded":b,"col-id":A,title:G,"aria-describedby":P},ee?Ce.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:Y},ue()):ue())});var b=de.memo(e=>{const u=de.useContext(ge)["context"],{rowCtrl:t,containerType:p}=e,[m,d]=de.useState(),[h,C]=de.useState(),[g,f]=de.useState(),[E,y]=de.useState(),[R,S]=de.useState(),[v,w]=de.useState(),[O,b]=de.useState(),[M,I]=de.useState(),[T,P]=de.useState(),[r,D]=de.useState(),[n,N]=de.useState({list:[],instanceIdMap:new Map}),[s,k]=de.useState(),[A,F]=de.useState(!1),[a,G]=de.useState(t.getInitialRowTop()),[o,x]=de.useState(t.getInitialTransform()),i=de.useRef(null),l=de.useRef(),c=de.useRef(!1),[_,B]=de.useState(0),U=(de.useEffect(()=>{var e;c.current||s&&(10<_||((e=null===(e=i.current)||void 0===e?void 0:e.firstChild)?(t.setupDetailRowAutoHeight(e),c.current=!0):B(e=>e+1)))},[s,_]),de.useMemo(()=>new he.CssClassManager(()=>i.current),[]));de.useEffect(()=>{var e={setTop:e=>G(e),setTransform:e=>x(e),addOrRemoveCssClass:(e,t)=>U.addOrRemoveCssClass(e,t),setDomOrder:e=>F(e),setRowIndex:e=>d(e),setAriaRowIndex:e=>w(e),setAriaExpanded:e=>b(e),setAriaLabel:e=>I(e),setRowId:e=>C(e),setRowBusinessKey:e=>y(e),setTabIndex:e=>S(e),setUserStyles:e=>D(e),setAriaSelected:e=>P(e),setRole:e=>f(e),setCellCtrls:l=>N(e=>{{var r=e,t;if(e=l,A){const i={list:e,instanceIdMap:new Map};return e.forEach(e=>i.instanceIdMap.set(e.getInstanceId(),e)),i}const n=[],s=[],a=new Map,o=new Map,i=(e.forEach(e=>o.set(e.getInstanceId(),e)),r.list.forEach(e=>{var t=e.getInstanceId();o.has(t)&&(n.push(e),a.set(t,e))}),e.forEach(e=>{var t=e.getInstanceId();r.instanceIdMap.has(t)||(s.push(e),a.set(t,e))}),{list:[...n,...s],instanceIdMap:a});return i}}),showFullWidth:e=>k(e),getFullWidthCellRenderer:()=>l.current};t.setComp(e,i.current,p)},[]),de.useEffect(()=>W(s,u,i.current,l),[s]);var e=de.useMemo(()=>{var e={top:a,transform:o};return Object.assign(e,r),e},[a,o,r]),j=s&&s.componentFromFramework,L=null!=n;const H=de.useMemo(()=>{return!!(s&&s.componentFromFramework&&Ee(s.componentClass))},[s]);return Ce.createElement("div",{ref:i,role:g,style:e,"row-index":m,"aria-rowindex":v,"aria-expanded":O,"aria-label":M,"aria-selected":T,"row-id":h,"row-business-key":E,tabIndex:R},L&&n.list.map(e=>Ce.createElement(V,{cellCtrl:e,editingRow:t.isEditing(),printLayout:t.isPrintLayout(),key:e.getInstanceId()})),j&&(e=s.componentClass,Ce.createElement(Ce.Fragment,null,H&&Ce.createElement(e,Object.assign({},s.params)),!H&&Ce.createElement(e,Object.assign({},s.params,{ref:l})))))}),H=de.memo(e=>{const u=de.useContext(ge)["context"],[p,m]=de.useState(""),[d,h]=de.useState([]),[C,g]=de.useState(!1),[f,E]=de.useState(""),n=e["name"],y=de.useMemo(()=>he.getRowContainerTypeForName(n),[n]),s=de.useRef(null),a=de.useRef(null),o=de.useRef(null),t=de.useMemo(()=>he.RowContainerCtrl.getRowContainerCssClasses(n),[n]);var e=de.useMemo(()=>U(t.wrapper),[]),R=de.useMemo(()=>U(t.viewport),[]);const S=de.useMemo(()=>U(t.container),[]);var r=n===he.RowContainerName.CENTER,i=n===he.RowContainerName.TOP_CENTER||n===he.RowContainerName.BOTTOM_CENTER,v=!r&&!i,l=r?s:i?a:o,l=(L(" AG Row Container "+n+" ",l),de.useEffect(()=>{const e=[];var t={setViewportHeight:m,setRowCtrls:r=>{h(e=>{if(C)return r;const t=e.filter(e=>0<=r.indexOf(e));e=r.filter(e=>t.indexOf(e)<0);return[...t,...e]})},setDomOrder:e=>g(e),setContainerWidth:e=>E(e)};const r=u.createBean(new he.RowContainerCtrl(n));return e.push(r),r.setComp(t,o.current,a.current,s.current),()=>{u.destroyBeans(e)}},[]),de.useMemo(()=>({height:p}),[p]));const w=de.useMemo(()=>({width:f}),[f]);var c=()=>Ce.createElement("div",{className:S,ref:o,role:"rowgroup",style:w},d.map(e=>Ce.createElement(b,{rowCtrl:e,containerType:y,key:e.getInstanceId()})));return Ce.createElement(Ce.Fragment,null,r&&Ce.createElement("div",{className:e,ref:s,role:"presentation"},Ce.createElement("div",{className:R,ref:a,role:"presentation",style:l},c())),i&&Ce.createElement("div",{className:R,ref:a,role:"presentation",style:l},c()),v&&c())}),I=de.memo(()=>{const{context:s,agStackComponentsRegistry:u,resizeObserverService:p}=de.useContext(ge),[m,d]=de.useState(""),[h,C]=de.useState(0),[g,f]=de.useState(0),[e,E]=de.useState(0),[t,y]=de.useState(0),[R,S]=de.useState(""),[v,w]=de.useState(""),[O,b]=de.useState(null),[r,M]=de.useState(""),[I,T]=de.useState(null),[n,P]=de.useState(""),[a,D]=de.useState(null),o=de.useRef(null),i=de.useRef(null),l=de.useRef(null),c=de.useRef(null);L(" AG Grid Body ",o),L(" AG Pinned Top ",i),L(" AG Middle ",l),L(" AG Pinned Bottom ",c),de.useEffect(()=>{const r=[],n=[];if(s){var e=e=>{const t=u.getComponentClass(e);e=s.createBean(new t);return r.push(e),e},e=(o.current.appendChild(document.createComment(" AG Fake Horizontal Scroll ")),o.current.appendChild(e("AG-FAKE-HORIZONTAL-SCROLL").getGui()),o.current.appendChild(document.createComment(" AG Overlay Wrapper ")),o.current.appendChild(e("AG-OVERLAY-WRAPPER").getGui()),{setRowAnimationCssOnBodyViewport:d,setColumnCount:C,setRowCount:f,setTopHeight:E,setBottomHeight:y,setTopDisplay:S,setBottomDisplay:w,setColumnMovingCss:b,updateLayoutClasses:M,setAlwaysVerticalScrollClass:T,setPinnedTopBottomOverflowY:P,setCellSelectableCss:D,registerBodyViewportResizeListener:e=>{const t=p.observeResize(l.current,e);n.push(()=>t())}});const t=s.createBean(new he.GridBodyCtrl);return r.push(t),t.setComp(e,o.current,l.current,i.current,c.current),()=>{s.destroyBeans(r),n.forEach(e=>e())}}},[]);var N=de.useMemo(()=>U("ag-root","ag-unselectable",O,r),[O,r]),k=de.useMemo(()=>U("ag-body-viewport",m,r,I,a),[m,r,I,a]),A=de.useMemo(()=>U("ag-floating-top",a),[a]),F=de.useMemo(()=>U("ag-floating-bottom",a),[a]),G=de.useMemo(()=>({height:e,minHeight:e,display:R,overflowY:n}),[e,R,n]),x=de.useMemo(()=>({height:t,minHeight:t,display:v,overflowY:n}),[t,v,n]);const _=e=>Ce.createElement(H,{name:e,key:e+"-container"});var B=({section:e,children:t,className:r,style:n})=>Ce.createElement("div",{ref:e,className:r,role:"presentation",style:n},t.map(_));return Ce.createElement("div",{ref:o,className:N,role:"grid","aria-colcount":h,"aria-rowcount":g},Ce.createElement(j,null),B({section:i,className:A,style:G,children:[he.RowContainerName.TOP_LEFT,he.RowContainerName.TOP_CENTER,he.RowContainerName.TOP_RIGHT,he.RowContainerName.TOP_FULL_WIDTH]}),B({section:l,className:k,children:[he.RowContainerName.LEFT,he.RowContainerName.CENTER,he.RowContainerName.RIGHT,he.RowContainerName.FULL_WIDTH]}),B({section:c,className:F,style:x,children:[he.RowContainerName.BOTTOM_LEFT,he.RowContainerName.BOTTOM_CENTER,he.RowContainerName.BOTTOM_RIGHT,he.RowContainerName.BOTTOM_FULL_WIDTH]}))}),f=de.forwardRef((e,t)=>{const{children:r,eFocusableElement:s,onTabKeyDown:a,gridCtrl:p}=e,o=de.useContext(ge)["context"],i=de.useRef(null),l=de.useRef(null),c=de.useRef(),[n,u]=de.useState();de.useImperativeHandle(t,()=>({forceFocusOutOfContainer(){c.current.forceFocusOutOfContainer()}})),de.useEffect(()=>{var e=i.current,t=l.current,r={setTabIndex:e=>null==e?u(void 0):u(parseInt(e,10))};const n=c.current=o.createBean(new he.TabGuardCtrl({comp:r,eTopGuard:e,eBottomGuard:t,eFocusableElement:s,onTabKeyDown:a,focusInnerElement:e=>p.focusInnerElement(e)}));return()=>{o.destroyBean(n)}},[]);e=e=>Ce.createElement("div",{className:"ag-tab-guard ag-tab-guard-"+e,role:"presentation",tabIndex:n,ref:"top"===e?i:l});return Ce.createElement(Ce.Fragment,null,e("top"),r,e("bottom"))}),P=de.memo(f),E=de.memo(({context:E})=>{const[e,a]=de.useState(""),[t,o]=de.useState(""),[r,i]=de.useState(""),[n,l]=de.useState(null),[s,c]=de.useState(null),[u,p]=de.useState(!1),[y,m]=de.useState(),R=de.useRef(null),S=de.useRef(null),d=de.useRef(),v=de.useRef(null),h=de.useRef(()=>{});var C=de.useCallback(()=>{},[]);const w=de.useMemo(()=>E.getBean("beans"),[]);L(" AG Grid ",S),de.useEffect(()=>{const e=R.current=E.createBean(new he.GridCtrl);return()=>{E.destroyBean(e),R.current=null}},[]),de.useEffect(()=>{const e=R.current;h.current=e.focusInnerElement.bind(e);var t={destroyGridUi:()=>{},setRtlClass:a,addOrRemoveKeyboardFocusClass:e=>o(e?he.FocusService.AG_KEYBOARD_FOCUS:""),forceFocusOutOfContainer:()=>{d.current.forceFocusOutOfContainer()},updateLayoutClasses:i,getFocusableContainers:()=>{const e=[];var t=S.current.querySelector(".ag-root"),r=S.current.querySelector(".ag-side-bar");return t&&e.push(t),r&&e.push(r),e},setCursor:l,setUserSelect:c};e.setComp(t,S.current,S.current),p(!0)},[]),de.useEffect(()=>{if(y){const t=R.current,r=[],n=w["agStackComponentsRegistry"],s=n.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),a=n.getComponentClass("AG-SIDE-BAR"),o=n.getComponentClass("AG-STATUS-BAR"),i=n.getComponentClass("AG-WATERMARK"),u=n.getComponentClass("AG-PAGINATION"),l=[],c=S.current,p=v.current;if(t.showDropZones()&&s){const m=E.createBean(new s);var e=m.getGui();c.insertAdjacentElement("afterbegin",e),l.push(e),r.push(m)}if(t.showSideBar()&&a){const d=E.createBean(new a);e=d.getGui();const h=p.querySelector(".ag-tab-guard-bottom");h&&(h.insertAdjacentElement("beforebegin",e),l.push(e)),r.push(d)}if(t.showStatusBar()&&o){const C=E.createBean(new o);e=C.getGui();c.insertAdjacentElement("beforeend",e),l.push(e),r.push(C)}if(u){const g=E.createBean(new u);e=g.getGui();c.insertAdjacentElement("beforeend",e),l.push(e),r.push(g)}if(t.showWatermark()&&i){const f=E.createBean(new i);e=f.getGui();c.insertAdjacentElement("beforeend",e),l.push(e),r.push(f)}return()=>{E.destroyBeans(r),l.forEach(e=>{e.parentElement&&e.parentElement.removeChild(e)})}}},[y]);var g=de.useMemo(()=>U("ag-root-wrapper",e,t,r),[e,t,r]),f=de.useMemo(()=>U("ag-root-wrapper-body","ag-focus-managed",r),[r]),O=de.useMemo(()=>({userSelect:null!=s?s:"",WebkitUserSelect:null!=s?s:"",cursor:null!=n?n:""}),[s,n]),b=v.current,M=de.useCallback(e=>{d.current=e,m(!0)},[]);return Ce.createElement("div",{ref:S,className:g,style:O},Ce.createElement("div",{className:f,ref:v},u&&b&&Ce.createElement(ge.Provider,{value:w},Ce.createElement(P,{ref:M,eFocusableElement:b,onTabKeyDown:C,gridCtrl:R.current},Ce.createElement(I,null)))))});class S extends de.Component{constructor(e){super(e),this.props=e,this.destroyFuncs=[],this.changeDetectionService=new m,this.eGui=Ce.createRef(),this.whenReadyFuncs=[],this.ready=!1,this.state={context:void 0},this.portalManager=new h(this,e.componentWrappingElement,e.maxComponentCreationTimeMs)}render(){return Ce.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:this.eGui},this.state.context&&Ce.createElement(E,{context:this.state.context}),this.portalManager.getPortals())}createStyleForDiv(){return Object.assign({height:"100%"},this.props.containerStyle||{})}componentDidMount(){var e=this.props.modules||[],e={providedBeanInstances:{frameworkComponentWrapper:new y(this.portalManager)},modules:e,frameworkOverrides:new D(!0)},t=(this.gridOptions=this.props.gridOptions||{},this.props)["children"];o.hasChildColumns(t)&&(this.gridOptions.columnDefs=o.mapChildColumnDefs(t)),this.gridOptions=he.ComponentUtil.copyAttributesToGridOptions(this.gridOptions,this.props);const r=new he.GridCoreCreator;r.create(this.eGui.current,this.gridOptions,e=>{this.setState({context:e});const t=e.getBean(he.CtrlsService.NAME);t.whenReady(()=>{this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this.props.setGridApi(this.api,this.columnApi),this.destroyFuncs.push(()=>this.api.destroy())})},e=>{const t=e.getBean(he.CtrlsService.NAME);t.whenReady(()=>{this.whenReadyFuncs.forEach(e=>e()),this.whenReadyFuncs.length=0,this.ready=!0})},e)}componentWillUnmount(){this.destroyFuncs.forEach(e=>e())}componentDidUpdate(e){this.processPropsChanges(e,this.props)}processPropsChanges(e,t){var r={};this.extractGridPropertyChanges(e,t,r),this.extractDeclarativeColDefChanges(t,r),this.processChanges(r)}extractDeclarativeColDefChanges(e,t){if(!(this.props.gridOptions&&this.props.gridOptions.columnDefs||this.props.columnDefs)){var r=!!e.debug,n="columnDefs",s=this.gridOptions.columnDefs;if(o.hasChildColumns(e.children)){const a=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(n));e=o.mapChildColumnDefs(e.children);a.areEqual(s,e)||(r&&console.log("agGridReact: colDefs definitions changed"),t[n]={previousValue:s,currentValue:e})}else s&&0<s.length&&(t[n]={previousValue:s,currentValue:[]})}}extractGridPropertyChanges(r,n,s){const a=!!n.debug;Object.keys(n).forEach(e=>{if(he._.includes(he.ComponentUtil.ALL_PROPERTIES,e)){const t=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(e));t.areEqual(r[e],n[e])||(a&&console.log(`agGridReact: [${e}] property changed`),s[e]={previousValue:r[e],currentValue:n[e]})}}),he.ComponentUtil.getEventCallbacks().forEach(e=>{r[e]!==n[e]&&(a&&console.log(`agGridReact: [${e}] event callback changed`),s[e]={previousValue:r[e],currentValue:n[e]})})}processChanges(e){this.processWhenReady(()=>he.ComponentUtil.processOnChange(e,this.gridOptions,this.api,this.columnApi))}processWhenReady(e){this.ready?e():this.whenReadyFuncs.push(e)}getStrategyTypeForProp(e){if("rowData"===e){if(this.props.rowDataChangeDetectionStrategy)return this.props.rowDataChangeDetectionStrategy;if(this.isImmutableDataActive())return t.ChangeDetectionStrategyType.IdentityCheck}return t.ChangeDetectionStrategyType.DeepValueCheck}isImmutableDataActive(){return this.props.deltaRowDataMode||this.props.immutableData||this.props.gridOptions&&(this.props.gridOptions.deltaRowDataMode||this.props.gridOptions.immutableData)}}class y extends he.BaseComponentWrapper{constructor(e){super(),this.parent=e}createWrapper(e,t){return new d(e,this.parent,t)}}var M=de.forwardRef((r,e)=>{const{ctrlsFactory:u,context:n,gridOptionsWrapper:p,resizeObserverService:m,clientSideRowModel:s,serverSideRowModel:a}=de.useContext(ge),[t,d]=de.useState(new fe),[o,h]=de.useState(new fe),[i,C]=de.useState(),[g,f]=de.useState(),l=de.useRef(),c=de.useRef(null);var E=de.useMemo(()=>t.toString()+" ag-details-row",[t]),y=de.useMemo(()=>o.toString()+" ag-details-grid",[o]),e=(e&&de.useImperativeHandle(e,()=>({refresh(){return l.current.refresh()}})),de.useEffect(()=>{r.template&&console.warn("AG Grid: detailCellRendererParams.template is not supported by React - this only works with frameworks that work against String templates. To change the template, please provide your own React Detail Cell Renderer.")},[]),de.useEffect(()=>{var e={addOrRemoveCssClass:(t,r)=>d(e=>e.setClass(t,r)),addOrRemoveDetailGridCssClass:(t,r)=>h(e=>e.setClass(t,r)),setDetailGrid:e=>C(e),setRowData:e=>f(e)};const t=u.getInstance("detailCellRenderer");if(t)return n.createBean(t),t.init(e,r),l.current=t,p.isDetailRowAutoHeight()&&(e=()=>{if(null!=c.current){const e=c.current.clientHeight;null!=e&&0<e&&setTimeout(()=>{r.node.setRowHeight(e),s?s.onRowHeightChanged():a&&a.onRowHeightChanged()},0)}},m.observeResize(c.current,e),e()),()=>{n.destroyBean(t)}},[]),de.useCallback((e,t)=>{l.current.registerDetailWithMaster(e,t)},[]));return Ce.createElement("div",{className:E,ref:c},i&&Ce.createElement(S,Object.assign({className:y},i,{rowData:g,setGridApi:e})))});class D extends he.VanillaFrameworkOverrides{constructor(e){super(),this.frameworkComponents={agGroupCellRenderer:T,agGroupRowRenderer:T,agDetailCellRenderer:M},this.reactUi=e}frameworkComponent(e){if(this.reactUi)return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;e=e.prototype;return!(e&&"getGui"in e)}}class N extends de.Component{constructor(e){super(e),this.props=e,this.changeDetectionService=new m,this.api=null,this.destroyed=!1,this.SYNCHRONOUS_CHANGE_PROPERTIES=["context"],this.portalManager=new h(this,e.componentWrappingElement,e.maxComponentCreationTimeMs)}render(){return Ce.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:e=>{this.eGridDiv=e}},this.portalManager.getPortals())}createStyleForDiv(){return Object.assign({height:"100%"},this.props.containerStyle||{})}componentDidMount(){var e=this.props.modules||[],e={providedBeanInstances:{agGridReact:this,frameworkComponentWrapper:new A(this,this.portalManager)},modules:e,frameworkOverrides:new D(!1)};const t=this.props.gridOptions||{};var r=this.props["children"];o.hasChildColumns(r)&&(t.columnDefs=o.mapChildColumnDefs(r)),this.gridOptions=he.ComponentUtil.copyAttributesToGridOptions(t,this.props),new he.Grid(this.eGridDiv,this.gridOptions,e),this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this.props.setGridApi(this.api,this.columnApi)}getStrategyTypeForProp(e){if("rowData"===e){if(this.props.rowDataChangeDetectionStrategy)return this.props.rowDataChangeDetectionStrategy;if(this.isImmutableDataActive())return t.ChangeDetectionStrategyType.IdentityCheck}return t.ChangeDetectionStrategyType.DeepValueCheck}isImmutableDataActive(){return this.props.deltaRowDataMode||this.props.immutableData||this.props.gridOptions&&(this.props.gridOptions.deltaRowDataMode||this.props.gridOptions.immutableData)}shouldComponentUpdate(e){return this.processPropsChanges(this.props,e),!1}componentDidUpdate(e){this.processPropsChanges(e,this.props)}processPropsChanges(e,t){var r={};this.extractGridPropertyChanges(e,t,r),this.extractDeclarativeColDefChanges(t,r),this.processSynchronousChanges(r),this.processAsynchronousChanges(r)}extractDeclarativeColDefChanges(e,t){if(!(this.props.gridOptions&&this.props.gridOptions.columnDefs||this.props.columnDefs)){var r=!!e.debug,n="columnDefs",s=this.gridOptions.columnDefs;if(o.hasChildColumns(e.children)){const a=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(n));e=o.mapChildColumnDefs(e.children);a.areEqual(s,e)||(r&&console.log("agGridReact: colDefs definitions changed"),t[n]={previousValue:s,currentValue:e})}else s&&0<s.length&&(t[n]={previousValue:s,currentValue:[]})}}extractGridPropertyChanges(r,n,s){const a=!!n.debug;Object.keys(n).forEach(e=>{if(he._.includes(he.ComponentUtil.ALL_PROPERTIES,e)){const t=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(e));t.areEqual(r[e],n[e])||(a&&console.log(`agGridReact: [${e}] property changed`),s[e]={previousValue:r[e],currentValue:n[e]})}}),he.ComponentUtil.getEventCallbacks().forEach(e=>{r[e]!==n[e]&&(a&&console.log(`agGridReact: [${e}] event callback changed`),s[e]={previousValue:r[e],currentValue:n[e]})})}componentWillUnmount(){this.api&&(this.api.destroy(),this.api=null),this.destroyed=!0,this.portalManager.destroy()}isDisableStaticMarkup(){return!0===this.props.disableStaticMarkup}isLegacyComponentRendering(){return!0===this.props.legacyComponentRendering}processSynchronousChanges(e){const t=Object.assign({},e);if(0<Object.keys(t).length){const r={};this.SYNCHRONOUS_CHANGE_PROPERTIES.forEach(e=>{t[e]&&(r[e]=t[e],delete t[e])}),0<Object.keys(r).length&&this.api&&he.ComponentUtil.processOnChange(r,this.gridOptions,this.api,this.columnApi)}return t}processAsynchronousChanges(e){0<Object.keys(e).length&&window.setTimeout(()=>{this.api&&he.ComponentUtil.processOnChange(e,this.gridOptions,this.api,this.columnApi)})}}function k(e,t){e.forEach(e=>{N[e]=t})}N.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,N.defaultProps={legacyComponentRendering:!1,disableStaticMarkup:!1,maxComponentCreationTimeMs:N.MAX_COMPONENT_CREATION_TIME_IN_MS},N.propTypes={gridOptions:e.object},k(he.ComponentUtil.getEventCallbacks(),e.func),k(he.ComponentUtil.BOOLEAN_PROPERTIES,e.bool),k(he.ComponentUtil.STRING_PROPERTIES,e.string),k(he.ComponentUtil.OBJECT_PROPERTIES,e.object),k(he.ComponentUtil.ARRAY_PROPERTIES,e.array),k(he.ComponentUtil.NUMBER_PROPERTIES,e.number),k(he.ComponentUtil.FUNCTION_PROPERTIES,e.func);class A extends he.BaseComponentWrapper{constructor(e,t){super(),this.agGridReact=e,this.portalManager=t}createWrapper(e,t){return this.agGridReact.isLegacyComponentRendering()?new c(e,this.agGridReact,this.portalManager,t):new d(e,this.portalManager,t)}}class F extends de.Component{constructor(){super(...arguments),this.setGridApi=(e,t)=>{this.api=e,this.columnApi=t}}render(){var e=this.props.suppressReactUi?N:S;return Ce.createElement(e,Object.assign({},this.props,{setGridApi:this.setGridApi}))}}t.AgGridReact=F,t.AgGridReactLegacy=N,t.AgGridReactFire=S,t.AgGridColumn=o,Object.defineProperty(t,"__esModule",{value:!0})});
